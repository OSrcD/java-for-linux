0.0.0.0 可以用本地的ip 来找它

通过nat也会映射到公网地址

在服务器中

0.0.0.0指的是本机上的所有IPV4地址

是真正表示“本网络中的本机

一般我们在服务端绑定端口的时候可以选择绑定到0.0.0.0

这样我的服务访问方就可以通过我的多个ip地址访问我的服务。

![](https://tcs.teambition.net/storage/3122c647be9d78fc945913504ac0d71a9af3?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzIwOSwiaWF0IjoxNjEyNDAyNDA5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjNjQ3YmU5ZDc4ZmM5NDU5MTM1MDRhYzBkNzFhOWFmMyJ9.7XaKmWXBMVfl2WkWpYtJGm1mUflPOSgg-cflyf0u8kk&download=image.png "")

![](https://tcs.teambition.net/storage/3122471559486a1799e28eca94f3eb6fb728?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzMxNSwiaWF0IjoxNjEyNDAyNTE1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI0NzE1NTk0ODZhMTc5OWUyOGVjYTk0ZjNlYjZmYjcyOCJ9.Ie59bc7CccVSKTtJLaXoz6m8W7iuwgU55tWqRNP0TAo&download=image.png "")

![](https://tcs.teambition.net/storage/3122b1ad9b08d00413e8842507a0f07c2872?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzM2NSwiaWF0IjoxNjEyNDAyNTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJiMWFkOWIwOGQwMDQxM2U4ODQyNTA3YTBmMDdjMjg3MiJ9.RCDO_SjgU9BbkzAOGgoRaHKk5DcELggJ-NGHawUkTdQ&download=image.png "")

![](https://tcs.teambition.net/storage/3122bf0d06aa9a24107e69053a64f5f6686e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzM4NiwiaWF0IjoxNjEyNDAyNTg2LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJiZjBkMDZhYTlhMjQxMDdlNjkwNTNhNjRmNWY2Njg2ZSJ9.u8pepXTCKvO7Dr7hQkTkw2qOhpAxmKIZncICJM9BXjE&download=image.png "")

![](https://tcs.teambition.net/storage/3122c4517f24df456bcd4570afb312dd1708?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzQwNSwiaWF0IjoxNjEyNDAyNjA1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjNDUxN2YyNGRmNDU2YmNkNDU3MGFmYjMxMmRkMTcwOCJ9.mWN1vMpRQdjeJxAGRZHQsMAp65z-L3okEb301k0Zweo&download=image.png "")

![](https://tcs.teambition.net/storage/312278622b64f4d894b57380cb799bd136d3?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzQyNywiaWF0IjoxNjEyNDAyNjI3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3ODYyMmI2NGY0ZDg5NGI1NzM4MGNiNzk5YmQxMzZkMyJ9.wCgXD7oaT5s0VD67kvR_sLLUoGPKzEQUa4Qt7mHUCAA&download=image.png "")

![](https://tcs.teambition.net/storage/3122d591c178ead1c1dcee10703471432553?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzQ1MSwiaWF0IjoxNjEyNDAyNjUxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkNTkxYzE3OGVhZDFjMWRjZWUxMDcwMzQ3MTQzMjU1MyJ9.iTO4mJXirNPV56yq8a8Zp2y69Dswm2XnYJiWeqBtu68&download=image.png "")

![](https://tcs.teambition.net/storage/312217ef14577b6ab7190bc82f467905cdad?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzUwNiwiaWF0IjoxNjEyNDAyNzA2LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIxN2VmMTQ1NzdiNmFiNzE5MGJjODJmNDY3OTA1Y2RhZCJ9.N-rkt-kBvZypzOTPemZtG2bzdvPL8cG1a977WcZ8epM&download=image.png "")

![](https://tcs.teambition.net/storage/312266ca758ec9de638f6f052798133f41c4?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzU0NywiaWF0IjoxNjEyNDAyNzQ3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2NmNhNzU4ZWM5ZGU2MzhmNmYwNTI3OTgxMzNmNDFjNCJ9.8Q9lyjelHsjBTukU60vqtNFmCZ19oqkDdA9sffgkEPY&download=image.png "")

![](https://tcs.teambition.net/storage/31222728c97a7ad6ad2e4557bfebd956b678?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzU3NCwiaWF0IjoxNjEyNDAyNzc0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyNzI4Yzk3YTdhZDZhZDJlNDU1N2JmZWJkOTU2YjY3OCJ9.6pXKeVvlDKYbq1IsohvjriCvCzTsmztwgbftLSKtnr8&download=image.png "")

![](https://tcs.teambition.net/storage/3122d81545ec5536374ffc6e589562f32fc2?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzU5NywiaWF0IjoxNjEyNDAyNzk3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkODE1NDVlYzU1MzYzNzRmZmM2ZTU4OTU2MmYzMmZjMiJ9.CWjLwf9xyS64VzVLsfhglRUXxgYZ_W0RjakKr_YDM40&download=image.png "")

![](https://tcs.teambition.net/storage/3122aa89a58a02a7cc3cc7485b21b71fd57e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzYxNywiaWF0IjoxNjEyNDAyODE3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJhYTg5YTU4YTAyYTdjYzNjYzc0ODViMjFiNzFmZDU3ZSJ9.ezKmNz_48V7RqJXIByOR_fX1XOTJHk3PsC9y3abmBuU&download=image.png "")

![](https://tcs.teambition.net/storage/31227585630ecdf2a85ecfe188465ffdae51?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzcyNCwiaWF0IjoxNjEyNDAyOTI0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3NTg1NjMwZWNkZjJhODVlY2ZlMTg4NDY1ZmZkYWU1MSJ9.qjO7UwZRAuUaJ__SqPZS0q7nIZcemT8afJCvdF92vAw&download=image.png "")

正常情况下是不会用公网地址来写的

![](https://tcs.teambition.net/storage/31223240eb5ec100105ac41c5cf630f2f2f6?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzc2MywiaWF0IjoxNjEyNDAyOTYzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIzMjQwZWI1ZWMxMDAxMDVhYzQxYzVjZjYzMGYyZjJmNiJ9.yQYyJuA5LqTbT0jqA6K6keTzR3XOhCgzITg4qC1rWcI&download=image.png "")

我们会以容器里面的 内部地址 或者 说是服务器之间互相调用的时候 那个我们服务器的私网地址

不是云服务器对外公网地址

![](https://tcs.teambition.net/storage/3122d4606ba72c0a18ed3d321a477b94067c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzg1MCwiaWF0IjoxNjEyNDAzMDUwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkNDYwNmJhNzJjMGExOGVkM2QzMjFhNDc3Yjk0MDY3YyJ9.9NmHx9N4lxnOewmMGhIvvD973cfEA1PP2uQkbmCy_r0&download=image.png "")

我们在主页打开的时候 cookie 用的是公网地址 

但是 内部服务器 set 出来的 cookie时候 后台服务器 set 出来的 cookie的时候 并不是这里

![](https://tcs.teambition.net/storage/3122874637ffc239be67cc9eafc1b86edbec?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwNzk0NCwiaWF0IjoxNjEyNDAzMTQ0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI4NzQ2MzdmZmMyMzliZTY3Y2M5ZWFmYzFiODZlZGJlYyJ9.ZI09sX1Ez4j4VvwpoWNqaVKFjVp8MB4RUWJ8-XssKBk&download=image.png "")

会导致我们 cookie 没法 真正 set 出来 也就是用户登录完以后

可以跳转到主页 但是这里不会显示哪名字



![](https://tcs.teambition.net/storage/3122295606a212e407ce4725d5415012e9c2?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODAzNywiaWF0IjoxNjEyNDAzMjM3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyOTU2MDZhMjEyZTQwN2NlNDcyNWQ1NDE1MDEyZTljMiJ9.UFjZ1p7qd_WySLgZrqDgq8Lnj440VlqvscmFGABAYVE&download=image.png "")

不会展示你的头像

![](https://tcs.teambition.net/storage/31221655cb1364ad40d4d1455532760dd21d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODA2NSwiaWF0IjoxNjEyNDAzMjY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIxNjU1Y2IxMzY0YWQ0MGQ0ZDE0NTU1MzI3NjBkZDIxZCJ9.wdh0GtwOYq5X8y-J0vf-OA2E-oMCwJcFQGbqlovOc_k&download=image.png "")



这些 我已经做了一部分的代码修正

找到相关 set cookie那个地方

![](https://tcs.teambition.net/storage/3122aa27fe4491e66e096a215e8fe0be526c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODEyMSwiaWF0IjoxNjEyNDAzMzIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJhYTI3ZmU0NDkxZTY2ZTA5NmEyMTVlOGZlMGJlNTI2YyJ9.7ezMj549fL84F6zRBN-u6Xqnr_NkNyp_7AK1WVIv1KI&download=image.png "")

![](https://tcs.teambition.net/storage/3122ef57363f75af143d986b362e155f4d5d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODE3MCwiaWF0IjoxNjEyNDAzMzcwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJlZjU3MzYzZjc1YWYxNDNkOTg2YjM2MmUxNTVmNGQ1ZCJ9.3ksXYCmlSCPpr4ZlN_mkb_fIQQ7km_JI8L1f6rlLLLc&download=image.png "")

![](https://tcs.teambition.net/storage/3122c819a447777fda4329219dfd2cd676e7?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODE5MSwiaWF0IjoxNjEyNDAzMzkxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjODE5YTQ0Nzc3N2ZkYTQzMjkyMTlkZmQyY2Q2NzZlNyJ9.zHzRH8iikzgoLjpHO3M3LvDqmBZSvvPSZm7TZDvQr4k&download=image.png "")

![](https://tcs.teambition.net/storage/31225cfd48d4342db08b19b6c58231b4ce38?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODIwNywiaWF0IjoxNjEyNDAzNDA3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI1Y2ZkNDhkNDM0MmRiMDhiMTliNmM1ODIzMWI0Y2UzOCJ9.JZk31IdYQckV0CmXc1czvv0X6zRCMPlP1p70U0ml1RM&download=image.png "")

![](https://tcs.teambition.net/storage/3122e17fd23ee2f95a034a3779b30383484c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODIzMywiaWF0IjoxNjEyNDAzNDMzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJlMTdmZDIzZWUyZjk1YTAzNGEzNzc5YjMwMzgzNDg0YyJ9.uHpBWOF_y8gU0ALXt0OdpzPOADSzeXnYiDKc_bP4lcE&download=image.png "")

改成外网地址

![](https://tcs.teambition.net/storage/3122c5f3a46dd78ae962bd06ec5b531ea33a?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODMwMiwiaWF0IjoxNjEyNDAzNTAyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjNWYzYTQ2ZGQ3OGFlOTYyYmQwNmVjNWI1MzFlYTMzYSJ9.p-ZHjiQXBb5uvMymUtM2SIl9pvjy9RcjfnLhQcdw3SU&download=image.png "")

在实际操作的过程中 不需要这样做的 如果是我们真正 有DNS 服务器  这个时候 你的 DNS 服务器 会用URL 的形式 而不是用 ip地址的形式 而我们的 url 

 内部的应用 url 跟外部的url 在主域上 一致的 

这种情况下 只要你设置以主域 而不是以子域来设置 cookie 的时候 它的域是可以成功的 我们这里是没有DNS 服务器的 也没有买过一个域名 

![](https://tcs.teambition.net/storage/31223cb6202eed4d1ff01e0c1d8dee0381ab?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODU4OSwiaWF0IjoxNjEyNDAzNzg5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIzY2I2MjAyZWVkNGQxZmYwMWUwYzFkOGRlZTAzODFhYiJ9.D73zOsrvKGWpHDU6f9lHXPN53TNl4Hx9FPiofc2nkas&download=image.png "")

![](https://tcs.teambition.net/storage/312238177f4ec18092f9757da2b0dd17390e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODYwOSwiaWF0IjoxNjEyNDAzODA5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIzODE3N2Y0ZWMxODA5MmY5NzU3ZGEyYjBkZDE3MzkwZSJ9.t-D8Y4nSu8TMal7Gus3RzX_nkemTxDc501lwk_BnKaw&download=image.png "")

![](https://tcs.teambition.net/storage/3122677e1e6966b117e24eae568b7a8235ca?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODYzNSwiaWF0IjoxNjEyNDAzODM1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2NzdlMWU2OTY2YjExN2UyNGVhZTU2OGI3YTgyMzVjYSJ9.edPd2qA8BZ63SVlGxj8Bn3-m3QaNyjxF3ivoVqFt-QQ&download=image.png "")

![](https://tcs.teambition.net/storage/31220b0a0fc9895e804d1185035fc4e49625?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODY1NCwiaWF0IjoxNjEyNDAzODU0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIwYjBhMGZjOTg5NWU4MDRkMTE4NTAzNWZjNGU0OTYyNSJ9.hU7AsW0aE5fhc5R4CJrK4N1rscKbub1JVsUtoDzDiOw&download=image.png "")

![](https://tcs.teambition.net/storage/3122d2b28e39c12f424715123ba973738ab7?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODY3NSwiaWF0IjoxNjEyNDAzODc1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkMmIyOGUzOWMxMmY0MjQ3MTUxMjNiYTk3MzczOGFiNyJ9.BkdSzLpDOjnqn1Fyf_Q0Jhq5tVo-hX3-3rLNtctST7I&download=image.png "")

![](https://tcs.teambition.net/storage/3122625e3e46200073d948527a60de1a8cf1?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODcwMiwiaWF0IjoxNjEyNDAzOTAyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2MjVlM2U0NjIwMDA3M2Q5NDg1MjdhNjBkZTFhOGNmMSJ9.kMG3aJr9hKaoFFxehYSugs-CZG8K8BF1SR0x4T2DTG4&download=image.png "")

上传到服务器

 

![](https://tcs.teambition.net/storage/3122e14f456147ee18def615fa9c136e8a37?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODc0NywiaWF0IjoxNjEyNDAzOTQ3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJlMTRmNDU2MTQ3ZWUxOGRlZjYxNWZhOWMxMzZlOGEzNyJ9.EKgcoYbRV3vdQi52bmeMzCLiiehnRPH2GiIeQ3rgHM4&download=image.png "")

上传 order



rm 是删除容器 

rmi 删除镜像

![](https://tcs.teambition.net/storage/312242116acf3bd75705f83e8dc6d1da6638?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODgyMSwiaWF0IjoxNjEyNDA0MDIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI0MjExNmFjZjNiZDc1NzA1ZjgzZThkYzZkMWRhNjYzOCJ9.dQtnpwwif2lOrJnuu3wi5-vgeN5791B9BsRTf24ax-0&download=image.png "")

![](https://tcs.teambition.net/storage/31222295fa490758dcccc9daae5dd58de96b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODgzOSwiaWF0IjoxNjEyNDA0MDM5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyMjk1ZmE0OTA3NThkY2NjYzlkYWFlNWRkNThkZTk2YiJ9.uM--jFOFYy5ZKRzIpfUrlkS9mF3YN6hpM3W3bGVyPGY&download=image.png "")

![](https://tcs.teambition.net/storage/312220ab889b067c400da8d159b77a0dc0a3?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODg2MSwiaWF0IjoxNjEyNDA0MDYxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyMGFiODg5YjA2N2M0MDBkYThkMTU5Yjc3YTBkYzBhMyJ9.6F8awaL6xgnU0pFk7ZGeKJ8e3HX0JsKOw_9rbawMFfA&download=image.png "")

![](https://tcs.teambition.net/storage/3122c9e7918df545fa6f8b13c85a3fd40a8c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODkxNSwiaWF0IjoxNjEyNDA0MTE1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjOWU3OTE4ZGY1NDVmYTZmOGIxM2M4NWEzZmQ0MGE4YyJ9.rVOzoO_Q3hlLK27TxIiwq6aKIIlvzq9tjABgeYiEut8&download=image.png "")

![](https://tcs.teambition.net/storage/3122a4134d4febc46dfb797a531375049375?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwODk2MiwiaWF0IjoxNjEyNDA0MTYyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJhNDEzNGQ0ZmViYzQ2ZGZiNzk3YTUzMTM3NTA0OTM3NSJ9.o3pNe3NMgRK8Xiwz9jVKzJyXLgcqsnXx5dfDQKw37CA&download=image.png "")

这个时候就不需要 Gateway 再 等待它一定时间 触发服务发现 而是在它启动的过程当中 强制的去重新发现 新的启动是my user 容器 

![](https://tcs.teambition.net/storage/3122702061ffc40bf4b8ba2ab2b67ff9b789?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwOTA5OSwiaWF0IjoxNjEyNDA0Mjk5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3MDIwNjFmZmM0MGJmNGI4YmEyYWIyYjY3ZmY5Yjc4OSJ9.AOUWmLSQZCA0hc5pGL2Eg5xZH8nnjXfbh_KmoYKrLoY&download=image.png "")

![](https://tcs.teambition.net/storage/312274282960f64dec0bdaf33ee1aee15187?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwOTEzMCwiaWF0IjoxNjEyNDA0MzMwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3NDI4Mjk2MGY2NGRlYzBiZGFmMzNlZTFhZWUxNTE4NyJ9.EVTDX4u9OgFdz_1Zz2WpYU8TAK4t6y4BCEjzfhmcS2Q&download=image.png "")

可能 order 没有起

![](https://tcs.teambition.net/storage/3122613c5664423cfa37807bd63461c38c5d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwOTE4OCwiaWF0IjoxNjEyNDA0Mzg4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2MTNjNTY2NDQyM2NmYTM3ODA3YmQ2MzQ2MWMzOGM1ZCJ9.P3JH5YEbPKEyYMFgsE0RKIQupgl2AYW0CHFM9mkBR3E&download=image.png "")

后端set cookie要set对 

![](https://tcs.teambition.net/storage/3122156e8b9eb0f3741c2e7b25efb607d287?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzAwOTMyNywiaWF0IjoxNjEyNDA0NTI3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIxNTZlOGI5ZWIwZjM3NDFjMmU3YjI1ZWZiNjA3ZDI4NyJ9.sybFItGHAWw07YFnv6fIjE1mrRNkyxHESbAfr0iHrPY&download=image.png "")

k8s 支持多个容器提供对外服务

服务和服务之间进行调用 而 不是只是容器 和容器 之间进行调用 对外提供更加漂亮 弹性能力后台应用 





 

开源笔记

可 Pull Requests 协作写开源笔记

如果笔记图片无法访问 请访问 [teambition](https://tburl.in/0jDNvpbK) 原版开源笔记

gitee

[https://gitee.com/opendevel/java-for-linux](https://gitee.com/opendevel/java-for-linux)

github

[https://github.com/OSrcD/java-for-linux](https://github.com/OSrcD/java-for-linux)

teambition

[https://tburl.in/0jDNvpbK](https://tburl.in/0jDNvpbK)

开源视频

bilibili

[https://space.bilibili.com/77266754](https://space.bilibili.com/77266754)

开源博客

oschina

[https://my.oschina.net/u/4675154](https://my.oschina.net/u/4675154)

csdn

[https://blog.csdn.net/OpenDevel](https://blog.csdn.net/OpenDevel)

开源项目

gitee

[https://gitee.com/opendevel](https://gitee.com/opendevel)

github

[https://github.com/OSrcD](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMzAwNzAyMywiaWF0IjoxNjEyNDAyMjIzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.2oJFbw04M2jw8FXMHUidBjMyWnR85vw5KWOMJkf1Hp0&download=image.png "")

