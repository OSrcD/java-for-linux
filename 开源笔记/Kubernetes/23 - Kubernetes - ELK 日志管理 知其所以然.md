![](https://tcs.teambition.net/storage/31225e4b3382fa06149cf7d83c61517b3a97?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4Mzc4NSwiaWF0IjoxNjEzMjc4OTg1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI1ZTRiMzM4MmZhMDYxNDljZjdkODNjNjE1MTdiM2E5NyJ9.DevYlzwsIoP6l5XUuu534YGkV6xpj8J6ZpEVz36_2VA&download=image.png "")

 

![](https://tcs.teambition.net/storage/312274c797195074fd2502376c8a008e87c2?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NTcyMiwiaWF0IjoxNjEzMjgwOTIyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3NGM3OTcxOTUwNzRmZDI1MDIzNzZjOGEwMDhlODdjMiJ9.7eGWCsJbDj6pDfLCHS6lpS65f-ATsG6Sb29sTpeWNN4&download=image.png "")

![](https://tcs.teambition.net/storage/3122cb2ee0aa7343ab0af6cd145f82510f21?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NTgxOSwiaWF0IjoxNjEzMjgxMDE5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjYjJlZTBhYTczNDNhYjBhZjZjZDE0NWY4MjUxMGYyMSJ9._eo0WzEMeAG-mLTKJYzWjT_z0OVko4rdkRdsKFaA0Nc&download=image.png "")

![](https://tcs.teambition.net/storage/3122c44b948955f10549f75ac9894b62459d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NTk3MiwiaWF0IjoxNjEzMjgxMTcyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJjNDRiOTQ4OTU1ZjEwNTQ5Zjc1YWM5ODk0YjYyNDU5ZCJ9.k4iUthi_oQCk7NZOTgeEuz38CU_rgVMczrvSPHlCjnQ&download=image.png "")

![](https://tcs.teambition.net/storage/312223977d9d7121069c238681f396f5c60d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NTk1NiwiaWF0IjoxNjEzMjgxMTU2LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyMzk3N2Q5ZDcxMjEwNjljMjM4NjgxZjM5NmY1YzYwZCJ9.KP3Cj5gxTZN0RtKykQeRASJ3SaV3SOM5HC3H54U1344&download=image.png "")

![](https://tcs.teambition.net/storage/31221ef4f30bb70e6730cb02dfd1aec6a127?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzgwMCwiaWF0IjoxNjEzMjgzMDAwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIxZWY0ZjMwYmI3MGU2NzMwY2IwMmRmZDFhZWM2YTEyNyJ9.Kz9_fGz2pyq_iXwvGIyZK3hThdzxPvk2DTa_lHjbhq8&download=image.png "")

```yaml
apiVersion: v1
kind: Service
metadata:
  name: elasticsearch-logging
  namespace: kube-system
  labels:
    k8s-app: elasticsearch-logging
    kubernetes.io/cluster-service: "true"
    addonmanager.kubernetes.io/mode: Reconcile
    kubernetes.io/name: "Elasticsearch"
spec:
  clusterIP: None
  ports:
    - name: db
      port: 9200
      protocol: TCP
      targetPort: 9200
    - name: transport
      port: 9300
      protocol: TCP
      targetPort: 9300
  publishNotReadyAddresses: true
  selector:
    k8s-app: elasticsearch-logging
  sessionAffinity: None
  type: ClusterIP

```

![](https://tcs.teambition.net/storage/31226f7176552afa8b098b12da3c0816fa26?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzgyNCwiaWF0IjoxNjEzMjgzMDI0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2ZjcxNzY1NTJhZmE4YjA5OGIxMmRhM2MwODE2ZmEyNiJ9.Yo4DhQQdHxf7KKTqv5eV7MUL4PsuoLzKPuP-d7YPG2M&download=image.png "")

```yaml
# RBAC authn and authz
apiVersion: v1
kind: ServiceAccount
metadata:
  name: elasticsearch-logging
  namespace: kube-system
  labels:
    k8s-app: elasticsearch-logging
    addonmanager.kubernetes.io/mode: Reconcile
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: elasticsearch-logging
  labels:
    k8s-app: elasticsearch-logging
    addonmanager.kubernetes.io/mode: Reconcile
rules:
  - apiGroups:
      - ""
    resources:
      - "services"
      - "namespaces"
      - "endpoints"
    verbs:
      - "get"
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  namespace: kube-system
  name: elasticsearch-logging
  labels:
    k8s-app: elasticsearch-logging
    addonmanager.kubernetes.io/mode: Reconcile
subjects:
  - kind: ServiceAccount
    name: elasticsearch-logging
    namespace: kube-system
    apiGroup: ""
roleRef:
  kind: ClusterRole
  name: elasticsearch-logging
  apiGroup: ""
---
# Elasticsearch deployment itself
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: elasticsearch-logging
  namespace: kube-system
  labels:
    k8s-app: elasticsearch-logging
    version: v7.4.3
    addonmanager.kubernetes.io/mode: Reconcile
spec:
  serviceName: elasticsearch-logging
  replicas: 2
  selector:
    matchLabels:
      k8s-app: elasticsearch-logging
      version: v7.4.3
  template:
    metadata:
      labels:
        k8s-app: elasticsearch-logging
        version: v7.4.3
    spec:
      serviceAccountName: elasticsearch-logging
      containers:
        - image: quay.io/fluentd_elasticsearch/elasticsearch:v7.4.3
          name: elasticsearch-logging
          imagePullPolicy: Always
          resources:
            # need more cpu upon initialization, therefore burstable class
            limits:
              cpu: 1000m
              memory: 3Gi
            requests:
              cpu: 100m
              memory: 3Gi
          ports:
            - containerPort: 9200
              name: db
              protocol: TCP
            - containerPort: 9300
              name: transport
              protocol: TCP
          livenessProbe:
            tcpSocket:
              port: transport
            initialDelaySeconds: 5
            timeoutSeconds: 10
          readinessProbe:
            tcpSocket:
              port: transport
            initialDelaySeconds: 5
            timeoutSeconds: 10
          volumeMounts:
            - name: elasticsearch-logging
              mountPath: /data
          env:
            - name: "NAMESPACE"
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: "MINIMUM_MASTER_NODES"
              value: "1"
      volumes:
        - name: elasticsearch-logging
          emptyDir: {}
      # Elasticsearch requires vm.max_map_count to be at least 262144.
      # If your OS already sets up this number to a higher value, feel free
      # to remove this init container.
      initContainers:
        - image: alpine:3.6
          command: ["/sbin/sysctl", "-w", "vm.max_map_count=262144"]
          name: elasticsearch-logging-init
          securityContext:
            privileged: true

```

![](https://tcs.teambition.net/storage/312232c9811df8e71895e7e07768ba7df497?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4Nzg4NCwiaWF0IjoxNjEzMjgzMDg0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIzMmM5ODExZGY4ZTcxODk1ZTdlMDc3NjhiYTdkZjQ5NyJ9.eVxOtgNotMGkab3QRuEZXp-s788oCO8KWITgDXGVDOg&download=image.png "")

```text
https://github.com/kubernetes/kubernetes/blob/master/cluster/addons/fluentd-elasticsearch/fluentd-es-configmap.yaml

```

![](https://tcs.teambition.net/storage/31225e5f5b00c82f851a687cea030817e858?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4ODA3MCwiaWF0IjoxNjEzMjgzMjcwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI1ZTVmNWIwMGM4MmY4NTFhNjg3Y2VhMDMwODE3ZTg1OCJ9.FYg0G0v__a9lFGVTQ-sKUIhjNOBVf199pN35ttXnTa4&download=image.png "")

```yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: fluentd-es
  namespace: kube-system
  labels:
    k8s-app: fluentd-es
    addonmanager.kubernetes.io/mode: Reconcile
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: fluentd-es
  labels:
    k8s-app: fluentd-es
    addonmanager.kubernetes.io/mode: Reconcile
rules:
- apiGroups:
  - ""
  resources:
  - "namespaces"
  - "pods"
  verbs:
  - "get"
  - "watch"
  - "list"
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: fluentd-es
  labels:
    k8s-app: fluentd-es
    addonmanager.kubernetes.io/mode: Reconcile
subjects:
- kind: ServiceAccount
  name: fluentd-es
  namespace: kube-system
  apiGroup: ""
roleRef:
  kind: ClusterRole
  name: fluentd-es
  apiGroup: ""
---
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: fluentd-es-v3.1.0
  namespace: kube-system
  labels:
    k8s-app: fluentd-es
    version: v3.1.0
    addonmanager.kubernetes.io/mode: Reconcile
spec:
  selector:
    matchLabels:
      k8s-app: fluentd-es
      version: v3.1.0
  template:
    metadata:
      labels:
        k8s-app: fluentd-es
        version: v3.1.0
    spec:
      securityContext:
        seccompProfile:
          type: RuntimeDefault
      priorityClassName: system-node-critical
      serviceAccountName: fluentd-es
      containers:
      - name: fluentd-es
        image: quay.io/fluentd_elasticsearch/fluentd:v3.1.0
        env:
        - name: FLUENTD_ARGS
          value: --no-supervisor -q
        resources:
          limits:
            memory: 500Mi
          requests:
            cpu: 100m
            memory: 200Mi
        volumeMounts:
        - name: varlog
          mountPath: /var/log
        - name: varlibdockercontainers
          mountPath: /var/lib/docker/containers
          readOnly: true
        - name: config-volume
          mountPath: /etc/fluent/config.d
        ports:
        - containerPort: 24231
          name: prometheus
          protocol: TCP
        livenessProbe:
          tcpSocket:
            port: prometheus
          initialDelaySeconds: 5
          timeoutSeconds: 10
        readinessProbe:
          tcpSocket:
            port: prometheus
          initialDelaySeconds: 5
          timeoutSeconds: 10
      terminationGracePeriodSeconds: 30
      volumes:
      - name: varlog
        hostPath:
          path: /var/log
      - name: varlibdockercontainers
        hostPath:
          path: /var/lib/docker/containers
      - name: config-volume
        configMap:
          name: fluentd-es-config-v0.2.0

```

![](https://tcs.teambition.net/storage/3122634646501cda6d5859a9c168e12226fe?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4ODEyMywiaWF0IjoxNjEzMjgzMzIzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2MzQ2NDY1MDFjZGE2ZDU4NTlhOWMxNjhlMTIyMjZmZSJ9.XetMxW4fo7ubw6xP3mx1rBhhFLqTKpBLo7ZRaQ_FD50&download=image.png "")

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: kibana-logging
  namespace: kube-system
  labels:
    k8s-app: kibana-logging
    addonmanager.kubernetes.io/mode: Reconcile
spec:
  replicas: 1
  selector:
    matchLabels:
      k8s-app: kibana-logging
  template:
    metadata:
      labels:
        k8s-app: kibana-logging
    spec:
      securityContext:
        seccompProfile:
          type: RuntimeDefault
      containers:
        - name: kibana-logging
          image: docker.elastic.co/kibana/kibana-oss:7.4.2
          resources:
            # need more cpu upon initialization, therefore burstable class
            limits:
              cpu: 1000m
            requests:
              cpu: 100m
          env:
            - name: ELASTICSEARCH_HOSTS
              value: http://elasticsearch-logging:9200
            - name: SERVER_NAME
              value: kibana-logging
#            - name: SERVER_BASEPATH
#              value: /api/v1/namespaces/kube-system/services/kibana-logging/proxy
            - name: SERVER_REWRITEBASEPATH
              value: "false"
          ports:
            - containerPort: 5601
              name: ui
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /api/status
              port: ui
            initialDelaySeconds: 5
            timeoutSeconds: 10
          readinessProbe:
            httpGet:
              path: /api/status
              port: ui
            initialDelaySeconds: 5
            timeoutSeconds: 10

```

![](https://tcs.teambition.net/storage/3122945d2b122dfe82df33b716b0472d2035?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4ODE1MSwiaWF0IjoxNjEzMjgzMzUxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI5NDVkMmIxMjJkZmU4MmRmMzNiNzE2YjA0NzJkMjAzNSJ9.AF1t_jgjOMuedWFptKXcclo8LDIHEOdtUTBCf4cHkXo&download=image.png "")

```yaml
apiVersion: v1
kind: Service
metadata:
  name: kibana-logging
  namespace: kube-system
  labels:
    k8s-app: kibana-logging
    kubernetes.io/cluster-service: "true"
    addonmanager.kubernetes.io/mode: Reconcile
    kubernetes.io/name: "Kibana"
spec:
  ports:
  - port: 5601
    nodePort: 30979
    protocol: TCP
    targetPort: ui
  selector:
    k8s-app: kibana-logging
  type: NodePort

```

![](https://tcs.teambition.net/storage/312285e4a91275d15008fc9b4f0eed43e5dc?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NjA5OCwiaWF0IjoxNjEzMjgxMjk4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI4NWU0YTkxMjc1ZDE1MDA4ZmM5YjRmMGVlZDQzZTVkYyJ9.DWzzkB0U29GmRuSGN9OUgY2k8Pq6Rw1IM0kR_Oef6Go&download=image.png "")

![](https://tcs.teambition.net/storage/31227a362178e93704c7c1bd17f3b1b1dcc9?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NjEzNCwiaWF0IjoxNjEzMjgxMzM0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3YTM2MjE3OGU5MzcwNGM3YzFiZDE3ZjNiMWIxZGNjOSJ9.-qK_03y_QNvWTCL-ucvX-54fQlRzWTYXLboStxwfmN0&download=image.png "")

> [https://github.com/kubernetes/kubernetes/tree/master/cluster/addons](https://github.com/kubernetes/kubernetes/tree/master/cluster/addons)

```text
kubectl get service --namespace=kube-system | grep kibana

```

![](https://tcs.teambition.net/storage/31226de0623aa9c1270168538340dcd7f7a6?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NjIzNCwiaWF0IjoxNjEzMjgxNDM0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI2ZGUwNjIzYWE5YzEyNzAxNjg1MzgzNDBkY2Q3ZjdhNiJ9.IyCt5AvEpvOXJxDZJG_iIG4JAzcguKQUwwOcXUqu2vU&download=image.png "")

![](https://tcs.teambition.net/storage/312251908afafedd8cfc1311a2919199f401?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4Njc1OSwiaWF0IjoxNjEzMjgxOTU5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI1MTkwOGFmYWZlZGQ4Y2ZjMTMxMWEyOTE5MTk5ZjQwMSJ9.0wwad03eRvAThdc6J_e0fpDH7DiaZdyprr8pnB7sYnI&download=image.png "")

![](https://tcs.teambition.net/storage/3122b93cbc08135c7cf70d264e34df5ba460?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NjkxNSwiaWF0IjoxNjEzMjgyMTE1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJiOTNjYmMwODEzNWM3Y2Y3MGQyNjRlMzRkZjViYTQ2MCJ9.U0o7_T-AggpMB_MSWFTFibpy4Dw6FRmL6B7IL94B1d8&download=image.png "")

![](https://tcs.teambition.net/storage/3122baefb4c72aa51b04293075feb5481c1f?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NjkzOSwiaWF0IjoxNjEzMjgyMTM5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJiYWVmYjRjNzJhYTUxYjA0MjkzMDc1ZmViNTQ4MWMxZiJ9.XnPiMhMbFFK-MQ3ANIpSCQ_NOmbF3og3FvZ1MzhnA9s&download=image.png "")

![](https://tcs.teambition.net/storage/31224666dc0cbeffe8170cd9fd1db42b949d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4Njk1OSwiaWF0IjoxNjEzMjgyMTU5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI0NjY2ZGMwY2JlZmZlODE3MGNkOWZkMWRiNDJiOTQ5ZCJ9.HDGhuCSyBAKzKTbQcfTAfnxhf0jXiBG2t4Gsz2gIZlg&download=image.png "")

ES 所有收集到 log 通过内置搜索引擎 实际的 类似于数据库的检索的过程

![](https://tcs.teambition.net/storage/3122afa8240c7ff92f01e8bbd2fdc612634b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4Njk4MywiaWF0IjoxNjEzMjgyMTgzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJhZmE4MjQwYzdmZjkyZjAxZThiYmQyZmRjNjEyNjM0YiJ9.Rzik_3BCS9tkb0rOB6VTCrGHlDxx92Q2OnFs26_M6fU&download=image.png "")

支持很多的type 查询

![](https://tcs.teambition.net/storage/31228d05d80152ca5ed27b0c8b9acb92263a?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzAyMiwiaWF0IjoxNjEzMjgyMjIyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI4ZDA1ZDgwMTUyY2E1ZWQyN2IwYzhiOWFjYjkyMjYzYSJ9.FdjyZZXhPQHCdPzRmoCGq55GVwwhjCNm_GkZVouT9q0&download=image.png "")

跟 docker 相关的

![](https://tcs.teambition.net/storage/3122dd245f14176f300eb3b7a3bd6c2c3218?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzE3MSwiaWF0IjoxNjEzMjgyMzcxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkZDI0NWYxNDE3NmYzMDBlYjNiN2EzYmQ2YzJjMzIxOCJ9.lkhjBW85clISV0_vBlEzy4uhe-QkjowOXrDiJsbeKMA&download=image.png "")

![](https://tcs.teambition.net/storage/3122f7714fe2109cc20a555d0f9a0389ca06?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzIwOCwiaWF0IjoxNjEzMjgyNDA4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJmNzcxNGZlMjEwOWNjMjBhNTU1ZDBmOWEwMzg5Y2EwNiJ9.nAh9woy74J9o1LGySscPXWKxcsUHCDb81K3rFDOsuHU&download=image.png "")

![](https://tcs.teambition.net/storage/3122a3754d282ccc3dfc53ca0c78f1f4b260?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzI1OCwiaWF0IjoxNjEzMjgyNDU4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJhMzc1NGQyODJjY2MzZGZjNTNjYTBjNzhmMWY0YjI2MCJ9._7MTkGk7RFj-wABlE4vKOvQxG3fEZQAaLPf_tvUHMlc&download=image.png "")

![](https://tcs.teambition.net/storage/3122d500aacade4cc3cb1a940e5f07463282?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzI4NywiaWF0IjoxNjEzMjgyNDg3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJkNTAwYWFjYWRlNGNjM2NiMWE5NDBlNWYwNzQ2MzI4MiJ9.o75Tiseqp1tRvoOT2YwDi8k_ZycesfIEhzHEvsuqKEY&download=image.png "")

添加

![](https://tcs.teambition.net/storage/31227eee32107325ff9076c30d4cf1ee46d4?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzMyNCwiaWF0IjoxNjEzMjgyNTI0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3ZWVlMzIxMDczMjVmZjkwNzZjMzBkNGNmMWVlNDZkNCJ9.CGVJ-tFO_kaw8OWRKFytaOJifodF8HhDr8pQFrna7BU&download=image.png "")

+ 是添加

减号是排除

![](https://tcs.teambition.net/storage/312229cad2fd000a06ca14246b046b73e07d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzM5NCwiaWF0IjoxNjEzMjgyNTk0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjIyOWNhZDJmZDAwMGEwNmNhMTQyNDZiMDQ2YjczZTA3ZCJ9.tDi26Dc3X94FyYy_6Oy9medHjqFpqr1t3mqrEFBnvBY&download=image.png "")

![](https://tcs.teambition.net/storage/3122ed5fa7109104a3dab6ffc580fb409a70?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzQyOSwiaWF0IjoxNjEzMjgyNjI5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjJlZDVmYTcxMDkxMDRhM2RhYjZmZmM1ODBmYjQwOWE3MCJ9.O-nk0GiicbCIlVpl1eCgBTlcDjW15Oc6R-3_Uk2hbaA&download=image.png "")

软件装完以后 真正从Fluentd 开始 往ES 导出 才能在kibana进行展示

![](https://tcs.teambition.net/storage/31227806c35531f9bf5e020fbdace9d73c87?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMzg4NzYxMCwiaWF0IjoxNjEzMjgyODEwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjI3ODA2YzM1NTMxZjliZjVlMDIwZmJkYWNlOWQ3M2M4NyJ9.rrwZL290UowkPylcIqknAtFqmfGLejEYDx2dnge0dy8&download=image.png "")







开源笔记

可 Pull Requests 协作写开源笔记

如果笔记图片无法访问 请访问 [teambition](https://tburl.in/0jDNvpbK) 原版开源笔记

gitee

[https://gitee.com/opendevel/java-for-linux](https://gitee.com/opendevel/java-for-linux)

github

[https://github.com/OSrcD/java-for-linux](https://github.com/OSrcD/java-for-linux)

teambition

[https://tburl.in/0jDNvpbK](https://tburl.in/0jDNvpbK)

开源视频

bilibili

[https://space.bilibili.com/77266754](https://space.bilibili.com/77266754)

开源博客

oschina

[https://my.oschina.net/u/4675154](https://my.oschina.net/u/4675154)

csdn

[https://blog.csdn.net/OpenDevel](https://blog.csdn.net/OpenDevel)

开源项目

gitee

[https://gitee.com/opendevel](https://gitee.com/opendevel)

github

[https://github.com/OSrcD](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMzg4MzEwNywiaWF0IjoxNjEzMjc4MzA3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.akiILcDkX-9kKoK09UvT5OWs97-o7g5XuWg5hWcn3Nc&download=image.png "")

