![](https://tcs.teambition.net/storage/3121c841f3f43116136fd1d86ac18cf41ade?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjODQxZjNmNDMxMTYxMzZmZDFkODZhYzE4Y2Y0MWFkZSJ9.Z04aGSLWVUCgZYZza-4fx8dBtELz67cCNCnPZ9TehUk&download=2020-09-17%20175816.png "")



## input 就是数据从哪里来的

## output 数据的输出

## 分页配置是数据采集过程中的

## 启动 ES 服务器

![](https://tcs.teambition.net/storage/3121e4c403015afd76d6d6162547bd9f64fc?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFlNGM0MDMwMTVhZmQ3NmQ2ZDYxNjI1NDdiZDlmNjRmYyJ9.mLJxxY8INA5-3nu8RRRIQNKw8ZKeX-v3jvtZEjtNKJ8&download=image.png "")

![](https://tcs.teambition.net/storage/3121de2a54ad4f6afdb1a28d3baaa20c5ae7?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkZTJhNTRhZDRmNmFmZGIxYTI4ZDNiYWFhMjBjNWFlNyJ9.Ou73IUWIs1rkv5dU5Al6fU3NEEsNKFLzLPmRuTxx3qQ&download=image.png "")

![](https://tcs.teambition.net/storage/3121bce6330103ab1c2c92187842ddca325a?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiY2U2MzMwMTAzYWIxYzJjOTIxODc4NDJkZGNhMzI1YSJ9.bnStoNfWJUW-zJTyfrjUevdmBaFSgdhT72D9X6AM-w8&download=image.png "")

![](https://tcs.teambition.net/storage/312141bd1b951f87417694f62a00616d05e4?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE0MWJkMWI5NTFmODc0MTc2OTRmNjJhMDA2MTZkMDVlNCJ9.sZ5USVyEYxfVbSW4JOjZvWHjyDMHM1drlwCVxt5B8R4&download=image.png "")

![](https://tcs.teambition.net/storage/31219d54776525fb6fda0b81be933030ba9f?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE5ZDU0Nzc2NTI1ZmI2ZmRhMGI4MWJlOTMzMDMwYmE5ZiJ9.hF1NBmbqE2oqaQDU399V05ECuhcqTO9hubHu9HLh6O4&download=image.png "")

![](https://tcs.teambition.net/storage/3121b331c7ea73f9081c34f39be5ea2b891c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiMzMxYzdlYTczZjkwODFjMzRmMzliZTVlYTJiODkxYyJ9.LsjZriHkjdq_bpbOKxA9FCMbqA7kcdcBBTyn2QmUB1Y&download=image.png "")

![](https://tcs.teambition.net/storage/3121d93f19e65552ed26c6813962766d576f?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkOTNmMTllNjU1NTJlZDI2YzY4MTM5NjI3NjZkNTc2ZiJ9.Uzo1c85p4lqWIIN5UgQujjhGjH4v4RnqtgWqQB4Z7M0&download=image.png "")

![](https://tcs.teambition.net/storage/3121096cc775573157f5fdebbd6c0c35d177?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwOTZjYzc3NTU3MzE1N2Y1ZmRlYmJkNmMwYzM1ZDE3NyJ9.WWYAJbsNfUWmx7EG95-H7QoPwmCdrdLu18Vhk5yzM_E&download=image.png "")

![](https://tcs.teambition.net/storage/3121c8a3dfe0b618efe8a07459fb5534d32d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjOGEzZGZlMGI2MThlZmU4YTA3NDU5ZmI1NTM0ZDMyZCJ9.GL1uihK2b-bGek7hEhJK-u8iUtT498zzE0y9ROXtftI&download=image.png "")

![](https://tcs.teambition.net/storage/312172105ed7dfcea45a2bee570dd4110ac5?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3MjEwNWVkN2RmY2VhNDVhMmJlZTU3MGRkNDExMGFjNSJ9.mIm9GjzK9faTb4p85-PhkyMYmCsCQ7kLoRTU2gFa9Ok&download=image.png "")

## 或者空格 再复制

![](https://tcs.teambition.net/storage/31218e3ba997ee934594a890c874c8f17e3b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4ZTNiYTk5N2VlOTM0NTk0YTg5MGM4NzRjOGYxN2UzYiJ9.l2v1mfg1ZuxoEOG6JUMhPCUIYFTzI4YOVN9i1iHWXxg&download=image.png "")

![](https://tcs.teambition.net/storage/31217de5c05f2d5549bdc5e4858ba5a17a14?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3ZGU1YzA1ZjJkNTU0OWJkYzVlNDg1OGJhNWExN2ExNCJ9.9IKVqQmtGVcUWtYbh9qsy4P2sk2LpMJ0RjBOKV-hXo0&download=image.png "")

```sql
SELECT
        i.id as itemId,
        i.item_name as itemName,
        i.sell_counts as sellCounts,
        ii.url as imgUrl,
        tempSpec.price_discount as price,
        i.updated_time as updated_time
    FROM
        items i
    LEFT JOIN
        items_img ii
    ON
        i.id = ii.item_id
    LEFT JOIN
        (SELECT item_id,MIN(price_discount) as price_discount FROM items_spec GROUP BY item_id) tempSpec
    ON
        i.id = tempSpec.item_id
    WHERE
        ii.is_main = 1


```

## 增加函数

```sql
SELECT
        i.id as itemId,
        i.item_name as itemName,
        i.sell_counts as sellCounts,
        ii.url as imgUrl,
        tempSpec.price_discount as price,
        i.updated_time as updated_time
    FROM
        items i
    LEFT JOIN
        items_img ii
    ON
        i.id = ii.item_id
    LEFT JOIN
        (SELECT item_id,MIN(price_discount) as price_discount FROM items_spec GROUP BY item_id) tempSpec
    ON
        i.id = tempSpec.item_id
    WHERE
        ii.is_main = 1
        AND
        i.updated_time >= :sql_last_value

```

![](https://tcs.teambition.net/storage/3121435c883293898f519e44af4ce648e369?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE0MzVjODgzMjkzODk4ZjUxOWU0NGFmNGNlNjQ4ZTM2OSJ9.q_DT-Xg5wZnT77ZtFvelBMpXJxPzYpV_PAwg0lu0cvs&download=image.png "")

## 要先插入再复制 效果才完整 不然第一字符被截取了

![](https://tcs.teambition.net/storage/3121c15befb61c744996e71314fba9861793?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjMTViZWZiNjFjNzQ0OTk2ZTcxMzE0ZmJhOTg2MTc5MyJ9.zCSOF-n8_GKNMZEheajewjLz1AzLUWTiXklKgKT7U3w&download=image.png "")

![](https://tcs.teambition.net/storage/3121a2867bd85bc40195c245eb6c90865c40?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhMjg2N2JkODViYzQwMTk1YzI0NWViNmM5MDg2NWM0MCJ9.Sca4wBV_1lzf0FOFB2Er7VpfXm1wsowceKatGDJ1ubI&download=image.png "")

![](https://tcs.teambition.net/storage/312104c7e6416f4ab9cbe797b261d7d2f52e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwNGM3ZTY0MTZmNGFiOWNiZTc5N2IyNjFkN2QyZjUyZSJ9.Q0pwzXIo3_n_KKTr--lKQTzWM4Ma__vJzrhf2GF7B-g&download=image.png "")

## 修改为自己的数据库密码

![](https://tcs.teambition.net/storage/3121cac50eb3b748fc3bb223079c01ec101d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjYWM1MGViM2I3NDhmYzNiYjIyMzA3OWMwMWVjMTAxZCJ9.kbnqJ15JY5Tkvwm-A6R7o0ge3Ecm4LuTsadUFcrNNlA&download=image.png "")

![](https://tcs.teambition.net/storage/3121c71275bccaf12e3de8b0671592352460?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjNzEyNzViY2NhZjEyZTNkZThiMDY3MTU5MjM1MjQ2MCJ9.B9N9-JwP0BMsIxp0kc49RuU3wdZZj0JGPPZYc3L_caM&download=image.png "")

![](https://tcs.teambition.net/storage/31213fdbd878c945725c81ad6af657432bc7?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzZmRiZDg3OGM5NDU3MjVjODFhZDZhZjY1NzQzMmJjNyJ9.piMlDjpGA_hqotnDTYvAKoivfYP9PkYeZCp0MqJkI_c&download=image.png "")

## 需要写上数据库密码

```sql
input {
    jdbc {
        # 设置 MySql/MariaDB 数据库url以及数据库名称
        jdbc_connection_string => "jdbc:mysql://192.168.4.101:3306/foodie-shop-dev?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true"
        # 用户名和密码
        jdbc_user => "root"
        jdbc_password => "密码"
        # 数据库驱动所在位置，可以是绝对路径或者相对路径
        jdbc_driver_library => "/usr/local/logstash-6.4.3/sync/mysql-connector-java-5.1.41.jar"
        # 驱动类名
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        # 开启分页
        jdbc_paging_enabled => "true"
        # 分页每页数量，可以自定义
        jdbc_page_size => "1000"
        # 执行的sql文件路径
        statement_filepath => "/usr/local/logstash-6.4.3/sync/foodie-items.sql"
        # 设置定时任务间隔  含义：分、时、天、月、年，全部为*默认含义为每分钟跑一次任务
        schedule => "* * * * *"
        # 索引类型
        type => "_doc"
        # 是否开启记录上次追踪的结果，也就是上次更新的时间，这个会记录到 last_run_metadata_path 的文件
        use_column_value => true
        # 记录上一次追踪的结果值
        last_run_metadata_path => "/usr/local/logstash-6.4.3/sync/track_time"
        # 如果 use_column_value 为true， 配置本参数，追踪的 column 名，可以是自增id或者时间
        tracking_column => "updated_time"
        # tracking_column 对应字段的类型
        tracking_column_type => "timestamp"
        # 是否清除 last_run_metadata_path 的记录，true则每次都从头开始查询所有的数据库记录
        clean_run => false
        # 数据库字段名称大写转小写
        lowercase_column_names => false
    }
}
output {
    elasticsearch {
        # es地址
        hosts => ["192.168.245.151:9200"]
        # 同步的索引名
        index => "foodie-items"
        # 设置_docID和数据相同
        # document_id => "%{id}"
        document_id => "%{itemId}"
    }
    # 日志输出
    stdout {
        codec => json_lines
    }
}


```

## 我的数据库时间

![](https://tcs.teambition.net/storage/3121dcc6dd79b8390321d5c272425aeb5376?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkY2M2ZGQ3OWI4MzkwMzIxZDVjMjcyNDI1YWViNTM3NiJ9.rFrXaaQUGYgIIINWGTSCFjJQODJXIUQXQ2IoetGqyxU&download=image.png "")

## 我的目录放错了 重新调整

![](https://tcs.teambition.net/storage/3121aa02a511a6ef6e4b107d82ff77e6e1c9?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhYTAyYTUxMWE2ZWY2ZTRiMTA3ZDgyZmY3N2U2ZTFjOSJ9.x3vy6xFAm_Oav2ZwhzrYjIl8SWShsyR5OZQq9FwfLws&download=image.png "")

![](https://tcs.teambition.net/storage/3121aef1cbc5a70909ca056eecc7b77d7f00?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWYxY2JjNWE3MDkwOWNhMDU2ZWVjYzdiNzdkN2YwMCJ9.X5cRfULUpEXsBcTJvRGHfDd51YxJay24w_L5Ngxoyv0&download=image.png "")

```shell
./logstash -f /usr/local/logstash-6.4.3/sync/logstash-db-sync.conf

```

![](https://tcs.teambition.net/storage/3121ff03c9cc7c1489fb8153885fa8691c46?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmZjAzYzljYzdjMTQ4OWZiODE1Mzg4NWZhODY5MWM0NiJ9.zInKuAi25mdL2oa0wQRxiyhcBdhmJtEq5RTGKIpNs4s&download=image.png "")

## 修改了数据库驱动类名 重新同步

![](https://tcs.teambition.net/storage/31213f0a5680fd60acd228fbce543c4eccda?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzZjBhNTY4MGZkNjBhY2QyMjhmYmNlNTQzYzRlY2NkYSJ9.h-81a2vFfpAM2zQeUlSMwzKQui65FBU3zwLx9KNVME0&download=image.png "")

![](https://tcs.teambition.net/storage/3121b06bb90028a8070a04b6dd99563196b5?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiMDZiYjkwMDI4YTgwNzBhMDRiNmRkOTk1NjMxOTZiNSJ9.womArfmzfWD_AISB11T12tRX4dhHiMCkLJQzCs4XPEs&download=image.png "")

## 同步失败 mysql开始降级为 5.7.10 



![](https://tcs.teambition.net/storage/31210543b523e29a53728eb40053e6350f65?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwNTQzYjUyM2UyOWE1MzcyOGViNDAwNTNlNjM1MGY2NSJ9.m4q5qhZuisacGm7jUDXmkSaWJpmwiWJyVpUZQ6prSGI&download=image.png "")

## 配置远程登录



```sql
grant all privileges on *.* to 'root'@'%' identified by '密码'
flush privileges;


```



![](https://tcs.teambition.net/storage/312175038667f3c79fe2d494bf80f48be483?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3NTAzODY2N2YzYzc5ZmUyZDQ5NGJmODBmNDhiZTQ4MyJ9.dTLwFy_ofbbqZujTn3jC3KPB0BIRBc74rQS3AFY8Duw&download=image.png "")

![](https://tcs.teambition.net/storage/3121a82b55933846e672b9b24c591f3dbf3b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhODJiNTU5MzM4NDZlNjcyYjliMjRjNTkxZjNkYmYzYiJ9.RG-xBZFB_zXIYhQLnpG_7hwR8GfRuwDabR6BySpV8L8&download=image.png "")

![](https://tcs.teambition.net/storage/3121f01f402a059e9ff5689ec8ef22a12cc0?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmMDFmNDAyYTA1OWU5ZmY1Njg5ZWM4ZWYyMmExMmNjMCJ9.16CR1RXVE9fKFJmd51ZLiLE5nJwyjXm7uNcWokRlCwU&download=image.png "")

## sql_last_value logstatsh 在每次同步完毕以后 会有这样一个边界值 在我们这里就是所有设置的一个时间 

## datetime 就是 timestamp

## document_id 可以不配



## 增加四个月

```sql
UPDATE items SET updated_time = 
  DATE_ADD(updated_time,INTERVAL 4 MONTH)
```

## 时间累加函数



## 174 

![](https://tcs.teambition.net/storage/3121f3fa8164d24e2f94e33dfa5ee7bceae2?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmM2ZhODE2NGQyNGUyZjk0ZTMzZGZhNWVlN2JjZWFlMiJ9.he1a6KWEc46U3IsZpsqGUq6MW9gUGF37AcpCnKWSr9I&download=image.png "")

![](https://tcs.teambition.net/storage/31216fb29e8516210c29e5955edd0c768e48?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2ZmIyOWU4NTE2MjEwYzI5ZTU5NTVlZGQwYzc2OGU0OCJ9.40Haso0xe20Is81MehdkePPa4kUD9529EOzB6DHHvk4&download=image.png "")















开源笔记

此笔记在学习的时候做的笔记 所以 没有那么多时间写的很细致或整理排版问题 采用关键帧图片与关键帧文字进行书写 

可 Pull Requests 协作写开源笔记

[gitee](https://gitee.com/opendevel/java-for-linux)

[github](https://github.com/OSrcD/java-for-linux)

[teambition](https://tburl.in/0jDNvpbK)

开源视频

[OSrcD的个人空间 - 哔哩哔哩 ( ゜- ゜)つロ 乾杯~ Bilibili](https://space.bilibili.com/77266754)

开源博客

[全部博文 - OpenDevel的个人空间 - OSCHINA](https://my.oschina.net/u/4675154?tab=newest&catalogId=0)

开源项目

[OSrcD (OpenDevel) - Gitee.com](https://gitee.com/OpenDevel)

[OSrcD - Overview](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDgxMzM2NSwiaWF0IjoxNjEwMjA4NTY1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.aUO9V3f83rRoHQtntZTr93yQAxoOF_UeHmOYwvlA8qw&download=image.png "")

请勿相信图片中任何联系方式

图片来源于视频 作者拿到视频学习已被第三方打码 没办法 截图也没时间去修改图片 请勿相信图片里的任何联系方式

谢谢

