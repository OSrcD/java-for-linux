<!-- This is an Apache Ant build file. As part of the desktop java build -->
<!-- process, this config is used to package the autogenerated .java -->
<!-- interface files into OpenCV.jar -->
<project name="OpenCV">

    <tstamp>
      <format property="timestamp" pattern="EEE MMM d yyyy HH:mm:ss z"/>
    </tstamp>

  <target name="jar">
    <!-- This is to make a jar with a source attachment, for e.g. easy -->
    <!-- navigation in Eclipse. See this question: -->
    <!-- http://stackoverflow.com/questions/3584968/ant-how-to-compile-jar-that-includes-source-attachment -->
    <javac sourcepath="" srcdir="java" destdir="build/classes" debug="on" includeantruntime="false"  >
      <include name="**/*.java"/>
      <compilerarg line="-encoding utf-8"/>
    </javac>
    <jar destfile="/Users/virtualman/Downloads/MySource/opencv-4.3.0/release/bin/opencv-430.jar">
      <fileset dir="java"/>
      <fileset dir="build/classes"/>
      <manifest>
        <attribute name="Specification-Title" value="OpenCV"/>
        <attribute name="Specification-Version" value="4.3.0"/>
        <attribute name="Implementation-Title" value="OpenCV"/>
        <attribute name="Implementation-Version" value="unknown"/>
        <attribute name="Implementation-Date" value="${timestamp}"/>
      </manifest>
    </jar>
  </target>

  <target name="javadoc">
    <copy file="/Users/virtualman/Downloads/MySource/opencv-4.3.0/doc/mymath.js"
      todir="/Users/virtualman/Downloads/MySource/opencv-4.3.0/release/doc/doxygen/html/javadoc" />

    <!-- synchronize with platforms\android\build_sdk.py -->
    <javadoc
      packagenames="org.opencv.*"
      sourcepath="java"
      destdir="/Users/virtualman/Downloads/MySource/opencv-4.3.0/release/doc/doxygen/html/javadoc"
      Windowtitle="OpenCV 4.3.0 Java documentation"
      Doctitle="OpenCV Java documentation (4.3.0)"
      bottom="Generated on ${timestamp} / OpenCV unknown"
      failonerror="true"
      encoding="UTF-8" charset="UTF-8" docencoding="UTF-8"
      
      additionalparam="--allow-script-in-comments"
      >
      <Header>
         <![CDATA[
            <script>
              var url = window.location.href;
              var pos = url.lastIndexOf('/javadoc/');
              url = pos >= 0 ? (url.substring(0, pos) + '/javadoc/mymath.js') : (window.location.origin + '/mymath.js');
              var script = document.createElement('script');
              script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML,' + url;
              document.getElementsByTagName('head')[0].appendChild(script);
            </script>
         ]]>
      </Header>
    </javadoc>
  </target>

</project>
