![](https://tcs.teambition.net/storage/312150916ef482f6d2d0c04c308c9fcdb2dd?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE1MDkxNmVmNDgyZjZkMmQwYzA0YzMwOGM5ZmNkYjJkZCJ9.NN7xGi7QWtfxACWh1ZTA9coCkKAHfOV9jFhoi9neGhs&download=2020-09-17%20055200.png "")

![](https://tcs.teambition.net/storage/312165ab4bc99db12eab4933d15a5448e0f4?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2NWFiNGJjOTlkYjEyZWFiNDkzM2QxNWE1NDQ4ZTBmNCJ9.-erC1ymV9k1wEH1IdsqiUeGqd0oofQbP4Z1uKrF60Xo&download=2020-09-17%20055230.png "")

![](https://tcs.teambition.net/storage/312123f91352ee330d4aee5efd8988756a51?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyM2Y5MTM1MmVlMzMwZDRhZWU1ZWZkODk4ODc1NmE1MSJ9.sUay5YZDctl2OF_r2Y6hee_7ElHvQcMXv8cRd7mjDUs&download=image.png "")

![](https://tcs.teambition.net/storage/31213615f521446ed413bb4e804daa485f6c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzNjE1ZjUyMTQ0NmVkNDEzYmI0ZTgwNGRhYTQ4NWY2YyJ9.kNODAajSykQ-0NnuxCog7fYbihBD2HgI7prFyK_7eds&download=image.png "")

![](https://tcs.teambition.net/storage/312128e5d23b192bb8afe83c7e1b7b4b88bf?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyOGU1ZDIzYjE5MmJiOGFmZTgzYzdlMWI3YjRiODhiZiJ9.Yq3E-2MG3WiZ0pCwVucUmSwBjw9bOHEZ_dqYwtLd6_U&download=image.png "")

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>spring-cloud-demo</artifactId>
        <groupId>com.imooc</groupId>
        <version>1.0-SNAPSHOT</version>
        <relativePath>../../pom.xml</relativePath>
    </parent>
    <modelVersion>4.0.0</modelVersion>

    <artifactId>config-server</artifactId>
    <packaging>jar</packaging>

    <dependencies>
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-config-server</artifactId>
        </dependency>
    </dependencies>

</project>
```

![](https://tcs.teambition.net/storage/31217381dd01919e4e681c056608e863e46d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3MzgxZGQwMTkxOWU0ZTY4MWMwNTY2MDhlODYzZTQ2ZCJ9.RHKDzta3stEWxOEnmeUV-7kCsOhfTADMiFLSGxTLs2E&download=image.png "")

```java
package com.imooc.springcloud;

import org.springframework.boot.WebApplicationType;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.cloud.config.server.EnableConfigServer;

@SpringBootApplication
// 启动 ConfigServer 配置中心
@EnableConfigServer
public class ConfigServerApplication {

    public static void main(String[] args) {
        new SpringApplicationBuilder(ConfigServerApplication.class)
                .web(WebApplicationType.SERVLET)
                .run();
    }
}

```

![](https://tcs.teambition.net/storage/3121897e16b420adb03bdd745cfddf8f9e26?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4OTdlMTZiNDIwYWRiMDNiZGQ3NDVjZmRkZjhmOWUyNiJ9.zIjHfDpk2EbSJDJwrXH3xlTG9K7BXPUqAdDsAee5Qm8&download=image.png "")

```yaml
spring:
  application:
    name: config-server
  cloud:
    # 配置 config 属性
    config:
      server:
        # 基于 git 的配置属性 配置
        git:
          # 指定 git 仓库
          uri: https://github.com/OSrcD/config-repo.git
          force-pull: true
          # git 下面可能存放的子目录 子目录下才是你存放配置文件的地方
          # 比如说 你有很多个项目 共用同一个代码 仓库来管理配置文件 每个项目就可以使用不同的文件夹
          # 可以配置多是目录
#          search-paths: abc, def*
#          username:
#          password:

server:
  port: 60000
```

![](https://tcs.teambition.net/storage/3121558d76a67cfa5adf9405d39fff5273ec?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE1NThkNzZhNjdjZmE1YWRmOTQwNWQzOWZmZjUyNzNlYyJ9.PII5vi6taRKrkzTo6nSAvGODBWbvRrC_g9STA7JVBUQ&download=image.png "")

![](https://tcs.teambition.net/storage/312171fa18c31bf63fc025c67eab69589676?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3MWZhMThjMzFiZjYzZmMwMjVjNjdlYWI2OTU4OTY3NiJ9.dYWEqiD7eqrPDRkjpO15Sav7TAmtkmN62bmXzrJDlDo&download=image.png "")

```json
{
    "name": "config-consumer",
    "profiles": [
        "dev"
    ],
    "label": "main",
    "version": "f4f670b2b1270ee56df592e6310fbbc9c18586d9",
    "state": null,
    "propertySources": [
        {
            "name": "https://github.com/OSrcD/config-repo.git/config-consumer-dev.yml",
            "source": {
                "info.profile": "dev",
                "name": "Saul",
                "words": "God bless me"
            }
        }
    ]
}

```

拉取到文件会存放到本地

![](https://tcs.teambition.net/storage/31218824e2e5f163b1be6e03cbfab62c573a?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4ODI0ZTJlNWYxNjNiMWJlNmUwM2NiZmFiNjJjNTczYSJ9.f9NMFz7jiIntxq7biGaMb9m_CMor2zMMLyfPmJa3WFE&download=image.png "")

```text
2021-01-26 11:37:15.517  INFO 21185 --- [io-60000-exec-7] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: file:/var/folders/f7/h5k23k254y14yl9frqxjmjzh0000gn/T/config-repo-3627820833036900405/config-consumer-dev.yml


```

其实这里是通配符 只不过跟我们git 里面的 文件名一样

![](https://tcs.teambition.net/storage/31212205a8ad1fb7e62d4baf15d4dc7fbf72?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyMjA1YThhZDFmYjdlNjJkNGJhZjE1ZDRkYzdmYmY3MiJ9.nvIi55F21aacIq609bViqyxjLcrevx0h6f2OoG7KLTc&download=image.png "")

![](https://tcs.teambition.net/storage/312172a574f29c1aef79f326543016b68e70?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3MmE1NzRmMjljMWFlZjc5ZjMyNjU0MzAxNmI2OGU3MCJ9.L7kl7bFagknJUYAi8kBX0byx8-d-gRLIKhHFjx4qMcg&download=image.png "")

![](https://tcs.teambition.net/storage/3121125fc02599fbfeb63d7aec81fd993d39?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjExMjVmYzAyNTk5ZmJmZWI2M2Q3YWVjODFmZDk5M2QzOSJ9.f7dT85vqYJ_1riEv1WeRwd7Yvqhk3ufwBIpGQac9mLs&download=image.png "")

![](https://tcs.teambition.net/storage/312173ff6ffc937c912e224604189db60c06?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3M2ZmNmZmYzkzN2M5MTJlMjI0NjA0MTg5ZGI2MGMwNiJ9.uPw-QXMojAZdvn3UIdl0KGtjHXOujXy82LCylsxlQ0A&download=image.png "")

![](https://tcs.teambition.net/storage/312160a4f53e0020871b42047020a034552e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2MGE0ZjUzZTAwMjA4NzFiNDIwNDcwMjBhMDM0NTUyZSJ9.A8MhzLjrQQFMvYcZx2B55WsRqVVN2WI2l9zRHFJcbL0&download=image.png "")

![](https://tcs.teambition.net/storage/312150f3564ca218ede439481e460dcbd441?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE1MGYzNTY0Y2EyMThlZGU0Mzk0ODFlNDYwZGNiZDQ0MSJ9.IpLy2uXA13u7Xq-66h8vtpuUgZh9aHseiAytQNWPuGk&download=image.png "")

![](https://tcs.teambition.net/storage/31216b8bc5091168c3a439190169540a234b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2YjhiYzUwOTExNjhjM2E0MzkxOTAxNjk1NDBhMjM0YiJ9.2LvYS-1P7gh0re2qAeAzRPDOdQwEzQy5WYgtVyZLivA&download=image.png "")

```java
package com.imooc.springcloud;

import org.springframework.boot.WebApplicationType;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.cloud.config.server.EnableConfigServer;

@SpringBootApplication
// 启动 ConfigServer 配置中心
@EnableConfigServer
public class ConfigServerApplication {

    public static void main(String[] args) {
        new SpringApplicationBuilder(ConfigServerApplication.class)
                .web(WebApplicationType.SERVLET)
                .run();
    }

    //    获取配置文件的不同URL姿势，都是GET请求
//    http://localhost:60000/{label}/{application}-{profile}.json
//    以上后缀可以换成.yml, .properties，如果不指定{label}的话默认用master
//
//    http://localhost:60000/{application}/{profile}/{label}
//    如果不指定{label}的话默认用master

}

```



开源笔记

可 Pull Requests 协作写开源笔记

如果笔记图片无法访问 请访问 [teambition](https://tburl.in/0jDNvpbK) 原版开源笔记

gitee

[https://gitee.com/opendevel/java-for-linux](https://gitee.com/opendevel/java-for-linux)

github

[https://github.com/OSrcD/java-for-linux](https://github.com/OSrcD/java-for-linux)

teambition

[https://tburl.in/0jDNvpbK](https://tburl.in/0jDNvpbK)

开源视频

bilibili

[https://space.bilibili.com/77266754](https://space.bilibili.com/77266754)

开源博客

oschina

[https://my.oschina.net/u/4675154](https://my.oschina.net/u/4675154)

csdn

[https://blog.csdn.net/OpenDevel](https://blog.csdn.net/OpenDevel)

开源项目

gitee

[https://gitee.com/opendevel](https://gitee.com/opendevel)

github

[https://github.com/OSrcD](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NTYyMSwiaWF0IjoxNjEyMTkwODIxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.w0ETkCgkv_aWsslgMfdKjmvruEE4BYRmlPBJLQJ_CvI&download=image.png "")

