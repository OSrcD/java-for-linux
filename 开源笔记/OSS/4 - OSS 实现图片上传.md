## 这个是文件路径

![](https://tcs.teambition.net/storage/312165f169e4d989d82a8ff59f9811a8bd45?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzE5OSwiaWF0IjoxNjEwMjg4Mzk5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2NWYxNjllNGQ5ODlkODJhOGZmNTlmOTgxMWE4YmQ0NSJ9.gafGjrya4tSFNJ7nHYLOkbOuzPqLqcdXEezW2osi6io&download=image.png "")

## 外网访问的 就是一个 host

![](https://tcs.teambition.net/storage/3121ce42c7e3291a813491c06409db628a56?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzI5NCwiaWF0IjoxNjEwMjg4NDk0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjZTQyYzdlMzI5MWE4MTM0OTFjMDY0MDlkYjYyOGE1NiJ9.gTOrhPB30OjBl5pnbsq6aWfXwsRMboUKLW8I5YqBohk&download=image.png "")

![](https://tcs.teambition.net/storage/312108fa688e2483a33ef11f88ef7af70cac?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzM3MCwiaWF0IjoxNjEwMjg4NTcwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwOGZhNjg4ZTI0ODNhMzNlZjExZjg4ZWY3YWY3MGNhYyJ9.lMjcKklnmVNfdgQwgf2QTKizPI9AAov2IL-0b88bBGQ&download=image.png "")



## 外网地址 + 具体目录

![](https://tcs.teambition.net/storage/31216779aa9c69cc649729896efdae8fa7fe?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzQ4MywiaWF0IjoxNjEwMjg4NjgzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2Nzc5YWE5YzY5Y2M2NDk3Mjk4OTZlZmRhZThmYTdmZSJ9.gtdP1iXZf7v07y0B-l6iEOEPHPpbrJQzl60i2IBOsQc&download=image.png "")

![](https://tcs.teambition.net/storage/31213954c6da2286f78ac6ce482752a82ddc?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzUxNSwiaWF0IjoxNjEwMjg4NzE1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzOTU0YzZkYTIyODZmNzhhYzZjZTQ4Mjc1MmE4MmRkYyJ9.ZN4iqtiXPV6h3IJqr9L9JEULf2KeG6EYKiT-43CcW8s&download=image.png "")

## 启动

![](https://tcs.teambition.net/storage/31215582daeec7b6cee3631eb5aece3db0fa?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzU1MywiaWF0IjoxNjEwMjg4NzUzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE1NTgyZGFlZWM3YjZjZWUzNjMxZWI1YWVjZTNkYjBmYSJ9.CLIb2ii4UtL-8MNJL3tAyKwX_ziMroHZhK9ruzjyKhw&download=image.png "")

## 这个也要去启动

![](https://tcs.teambition.net/storage/3121085b4f0b662fdd829ebd6bf5f615f94c?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzU5MywiaWF0IjoxNjEwMjg4NzkzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwODViNGYwYjY2MmZkZDgyOWViZDZiZjVmNjE1Zjk0YyJ9.89we12fwTIWeZ8QXd7ZTgyMZYvFeDgZY5ESHqMW7spw&download=image.png "")

## 上传

![](https://tcs.teambition.net/storage/3121b0245dbbc9462b0f791c49bf41535e7a?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzYzNywiaWF0IjoxNjEwMjg4ODM3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiMDI0NWRiYmM5NDYyYjBmNzkxYzQ5YmY0MTUzNWU3YSJ9.0E2M11VQzy2Z6FzEMrrqhghwovByzWq6g6rd2hqnGt0&download=image.png "")

![](https://tcs.teambition.net/storage/312120495340e3650eaf83e265946c4fd096?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzY0OSwiaWF0IjoxNjEwMjg4ODQ5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyMDQ5NTM0MGUzNjUwZWFmODNlMjY1OTQ2YzRmZDA5NiJ9._xmAdePAVc3oBsujytXiY6ZqCHS32iL5_wgpWzVyCuE&download=image.png "")

![](https://tcs.teambition.net/storage/312164acfa22a8c0a46943a3b631b573e939?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzY2NCwiaWF0IjoxNjEwMjg4ODY0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2NGFjZmEyMmE4YzBhNDY5NDNhM2I2MzFiNTczZTkzOSJ9.DQTbpumLsNfz_0fmwy44tbymM-B4XSWkw7usakkUq2I&download=image.png "")

 

![](https://tcs.teambition.net/storage/3121fe8e586777511785f61aaa424e2cbfd3?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzY4MywiaWF0IjoxNjEwMjg4ODgzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmZThlNTg2Nzc3NTExNzg1ZjYxYWFhNDI0ZTJjYmZkMyJ9.onMT53l1iAqAdIPCOKQt5zp0Op8Xf9VPp-I3Yd1oHeE&download=image.png "")

![](https://tcs.teambition.net/storage/3121ceb9c3d85dc3cb6ddd928042131895f8?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzcxNCwiaWF0IjoxNjEwMjg4OTE0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjZWI5YzNkODVkYzNjYjZkZGQ5MjgwNDIxMzE4OTVmOCJ9.QyWjIzH8uv2ka69DnLtnbggox-Kbx97stD35skIjzQM&download=image.png "")

![](https://tcs.teambition.net/storage/31216f1ed02faf006824a615c6b13a37066f?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzczNywiaWF0IjoxNjEwMjg4OTM3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2ZjFlZDAyZmFmMDA2ODI0YTYxNWM2YjEzYTM3MDY2ZiJ9.02aT9VyQo7HtPL2DZ0zwh0bnx0pLApjUluCWj4Qc27k&download=image.png "")

![](https://tcs.teambition.net/storage/3121c25b82cbb729f25f132240c740ee27fe?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5Mzc1NSwiaWF0IjoxNjEwMjg4OTU1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjMjViODJjYmI3MjlmMjVmMTMyMjQwYzc0MGVlMjdmZSJ9.wzz7WOaRu_qQwx7l9vRHlgcMKAaRTrTfRRd2PWRiTvQ&download=image.png "")

## 加.

## 上传没有目录会自动创建目录

![](https://tcs.teambition.net/storage/3121a1eca6d85e1e855cab9c1875471c0140?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5Mzc5NCwiaWF0IjoxNjEwMjg4OTk0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhMWVjYTZkODVlMWU4NTVjYWI5YzE4NzU0NzFjMDE0MCJ9.EBAzMHBDVHWVlr_U37auOJe_51aDnXlp1CKLSjpgdGA&download=image.png "")

## 数据库中的用户

![](https://tcs.teambition.net/storage/312103aba95963c3666d79b0d8b8683e5fa5?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzgwNSwiaWF0IjoxNjEwMjg5MDA1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwM2FiYTk1OTYzYzM2NjZkNzliMGQ4Yjg2ODNlNWZhNSJ9.M8eUkBvue7U9KstfciHKkLcQuPo5zi00Lz5BKvREkxc&download=image.png "")

![](https://tcs.teambition.net/storage/31219bd26ecb1b9fb1210f94c45bcb522c52?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5MzkyMCwiaWF0IjoxNjEwMjg5MTIwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE5YmQyNmVjYjFiOWZiMTIxMGY5NGM0NWJjYjUyMmM1MiJ9.w7hN8Nv-t4YLv3dnzVUpk8HBxlr9Fm13YVUU_z8Ju80&download=image.png "")

```text
file.host=http://192.168.245.153:8888/
file.endpoint=oss-cn-beijing.aliyuncs.com
file.accessKeyId=LTAI4Fo5zZeRw9DvQLFKUGNG
file.accessKeySecret=uTVnXbuTTgo2Phm31PFw6ltDTTOfVi
file.bucketName=imooctest
file.objectName=foodie-dev/images
file.ossHost=https://imooctest.oss-cn-beijing.aliyuncs.com/

```

![](https://tcs.teambition.net/storage/312114547251683010ca1f60919bab7b18a9?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDA3OSwiaWF0IjoxNjEwMjg5Mjc5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjExNDU0NzI1MTY4MzAxMGNhMWY2MDkxOWJhYjdiMThhOSJ9.Sbk62uK6OezXioB-PP1zGuH5_MiVKZo8q58of58E4Ok&download=image.png "")

```java
package com.imooc.service;

import org.springframework.web.multipart.MultipartFile;

public interface FdfsService {
    public String upload(MultipartFile file,String fileExName) throws Exception;

    public String uploadOSS(MultipartFile file, String userId, String fileExtName) throws Exception;
}


```

![](https://tcs.teambition.net/storage/3121ad345106296a00ff961bc88535e81d2d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDI1OSwiaWF0IjoxNjEwMjg5NDU5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZDM0NTEwNjI5NmEwMGZmOTYxYmM4ODUzNWU4MWQyZCJ9.TdqrZFZXv9N5A4u-8wmWAOIotUyU5qfeeihu0CycZNY&download=image.png "")

```java
package com.imooc.resource;

import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.context.annotation.PropertySource;
import org.springframework.stereotype.Component;

@Component
@PropertySource("classpath:file.properties")
@ConfigurationProperties(prefix = "file")
public class FileResource {
    private String host;
    private String endpoint;
    private String accessKeyId;
    private String accessKeySecret;
    private String bucketName;
    private String objectName;
    private String ossHost;

    public String getEndpoint() {
        return endpoint;
    }

    public void setEndpoint(String endpoint) {
        this.endpoint = endpoint;
    }

    public String getAccessKeyId() {
        return accessKeyId;
    }

    public void setAccessKeyId(String accessKeyId) {
        this.accessKeyId = accessKeyId;
    }

    public String getAccessKeySecret() {
        return accessKeySecret;
    }

    public void setAccessKeySecret(String accessKeySecret) {
        this.accessKeySecret = accessKeySecret;
    }

    public String getBucketName() {
        return bucketName;
    }

    public void setBucketName(String bucketName) {
        this.bucketName = bucketName;
    }

    public String getObjectName() {
        return objectName;
    }

    public void setObjectName(String objectName) {
        this.objectName = objectName;
    }

    public String getOssHost() {
        return ossHost;
    }

    public void setOssHost(String ossHost) {
        this.ossHost = ossHost;
    }

    public String getHost() {
        return host;
    }

    public void setHost(String host) {
        this.host = host;
    }
}


```

![](https://tcs.teambition.net/storage/31217d39721f71cebfb871a4014ca7953b41?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDQ5MiwiaWF0IjoxNjEwMjg5NjkyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3ZDM5NzIxZjcxY2ViZmI4NzFhNDAxNGNhNzk1M2I0MSJ9.PvJ_DTw-F11eDt0Uf4iPcRjDttAZBS1D1Y997g6H7k0&download=image.png "")

```java
package com.imooc.service.impl;

import com.aliyun.oss.OSS;
import com.aliyun.oss.OSSClientBuilder;
import com.github.tobato.fastdfs.domain.fdfs.StorePath;
import com.github.tobato.fastdfs.service.FastFileStorageClient;
import com.imooc.resource.FileResource;
import com.imooc.service.FdfsService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;

import java.io.InputStream;

@Service
public class FdfsServiceImpl implements FdfsService {

    @Autowired
    private FastFileStorageClient fastFileStorageClient;

    @Autowired
    private FileResource fileResource;

    @Override
    public String upload(MultipartFile file, String fileExName) throws Exception {
        StorePath storePath = fastFileStorageClient.uploadFile(file.getInputStream(),
                                file.getSize(),
                                fileExName,
                                null);
        String path = storePath.getFullPath();
        return path;
    }

    @Override
    public String uploadOSS(MultipartFile file, String userId, String fileExtName) throws Exception {

        // 构建ossClient
        OSS ossClient = new OSSClientBuilder()
                                .build(fileResource.getEndpoint(),
                                        fileResource.getAccessKeyId(),
                                        fileResource.getAccessKeySecret());

        InputStream inputStream = file.getInputStream();

        String myObjectName = fileResource.getObjectName() + "/" + userId + "/" + userId + "." + fileExtName;

        ossClient.putObject(fileResource.getBucketName(), myObjectName, inputStream);
        ossClient.shutdown();

        return myObjectName;
    }
}


```

![](https://tcs.teambition.net/storage/3121833ad59a97b39b9506e1f4896856e81e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDYyOSwiaWF0IjoxNjEwMjg5ODI5LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4MzNhZDU5YTk3YjM5Yjk1MDZlMWY0ODk2ODU2ZTgxZSJ9.rAhzO_bJ5FFJLYQjMIa3SybGyrqDuYYwTglUeXJz4ls&download=image.png "")

```java
package com.imooc.controller;

import com.github.pagehelper.util.StringUtil;
import com.imooc.pojo.Users;
import com.imooc.pojo.vo.UsersVO;
import com.imooc.resource.FileResource;
import com.imooc.service.FdfsService;
import com.imooc.service.center.CenterUserService;
import com.imooc.utils.CookieUtils;
import com.imooc.utils.IMOOCJSONResult;
import com.imooc.utils.JsonUtils;
import org.apache.commons.lang3.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@RestController
@RequestMapping("fdfs")
public class CenterUserController extends BaseController{

    @Autowired
    private FileResource fileResource;

    @Autowired
    private CenterUserService centerUserService;

    @Autowired
    private FdfsService fdfsService;

    @PostMapping("uploadFace")
    public IMOOCJSONResult uploadFace(
            String userId,
            MultipartFile file,
            HttpServletRequest request,
            HttpServletResponse response) throws Exception {

        String path = "";
        // 开始文件上传
        if (file != null) {
            // 获得文件上传的文件名称
            String fileName = file.getOriginalFilename();
            if (StringUtils.isNotBlank(fileName)) {

                // 文件重命名  imooc-face.png -> ["imooc-face", "png"]
                String fileNameArr[] = fileName.split("\\.");

                // 获取文件的后缀名
                String suffix = fileNameArr[fileNameArr.length - 1];

                if (!suffix.equalsIgnoreCase("png") &&
                        !suffix.equalsIgnoreCase("jpg") &&
                        !suffix.equalsIgnoreCase("jpeg") ) {
                    return IMOOCJSONResult.errorMsg("图片格式不正确！");
                }

//                path = fdfsService.upload(file, suffix);
                path = fdfsService.uploadOSS(file, userId, suffix);
                System.out.println(path);
            }
        } else {
            return IMOOCJSONResult.errorMsg("文件不能为空！");
        }

        if (StringUtils.isNotBlank(path)) {
//            String finalUserFaceUrl = fileResource.getHost() + path;
            String finalUserFaceUrl = fileResource.getHost() + path;

            Users userResult = centerUserService.updateUserFaceUrl(userId, finalUserFaceUrl);

            UsersVO usersVO = conventUsersVO(userResult);

            CookieUtils.setCookie(request, response, "user",
                    JsonUtils.objectToJson(usersVO), true);
        } else {
            return IMOOCJSONResult.errorMsg("上传头像失败");
        }

        return IMOOCJSONResult.ok();
    }

}


```

![](https://tcs.teambition.net/storage/312121f8d6b0436b12be7559c6a66791eddf?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDY5NCwiaWF0IjoxNjEwMjg5ODk0LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyMWY4ZDZiMDQzNmIxMmJlNzU1OWM2YTY2NzkxZWRkZiJ9.4rDh_OH0vAt-flQ7fB0md75MI0ceqGdQA9ABFfZSyMY&download=image.png "")

![](https://tcs.teambition.net/storage/3121123a5d0dd8cd3b52ea2878cf74386db1?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDczMCwiaWF0IjoxNjEwMjg5OTMwLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjExMjNhNWQwZGQ4Y2QzYjUyZWEyODc4Y2Y3NDM4NmRiMSJ9.4Ogo5mkmJecauPKACk_4-TmwrcqytnWdl-VTObXlBhs&download=image.png "")

![](https://tcs.teambition.net/storage/31218cf44896a48f778460625923fa40cd58?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDgzNywiaWF0IjoxNjEwMjkwMDM3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4Y2Y0NDg5NmE0OGY3Nzg0NjA2MjU5MjNmYTQwY2Q1OCJ9.tN1o9h46CHwvRTqVgVNQftvRmrJhA9OHgapdaBgDDwQ&download=image.png "")

![](https://tcs.teambition.net/storage/3121e5dc25773180f7bdaf73b0463740eac8?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDg1MywiaWF0IjoxNjEwMjkwMDUzLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFlNWRjMjU3NzMxODBmN2JkYWY3M2IwNDYzNzQwZWFjOCJ9.wgobEfxqRxrtWyoglx79-W2bypsc7TOIVk1q3H3w9L0&download=image.png "")

## 上传失败 讲师的 OSS 密钥已经改变

![](https://tcs.teambition.net/storage/31213fa93aad14f0e012dce42818d17b76c9?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IjVmNTQ2ZDkyODI1NWU3ZjU1MzkxZmUwOSIsImV4cCI6MTYxMDg5NDk0MiwiaWF0IjoxNjEwMjkwMTQyLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzZmE5M2FhZDE0ZjBlMDEyZGNlNDI4MThkMTdiNzZjOSJ9.-mi6FvCgI0-41naPoydPAme46MFHBEn_bozKdYuz7YM&download=image.png "")

```text
/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/bin/java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:60403,suspend=y,server=n -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -javaagent:/Users/virtualman/Library/Caches/JetBrains/IntelliJIdea2020.3/groovyHotSwap/gragent.jar -javaagent:/Users/virtualman/Library/Caches/JetBrains/IntelliJIdea2020.3/captureAgent/debugger-agent.jar -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dfile.encoding=UTF-8 -classpath /Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/charsets.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/deploy.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/javaws.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/jce.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/jfr.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/jfxswt.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/jsse.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/management-agent.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/plugin.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/resources.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/jre/lib/rt.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/ant-javafx.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/dt.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/javafx-mx.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/jconsole.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/packager.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/sa-jdi.jar:/Users/virtualman/Downloads/temp/jdk1.8.0_181.jdk/Contents/Home/lib/tools.jar:/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-fs/target/classes:/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-service/target/classes:/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes:/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-pojo/target/classes:/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-common/target/classes:/Users/virtualman/.m2/repository/com/github/tobato/fastdfs-client/1.26.7/fastdfs-client-1.26.7.jar:/Users/virtualman/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.26/jcl-over-slf4j-1.7.26.jar:/Users/virtualman/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/virtualman/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/virtualman/.m2/repository/commons-beanutils/commons-beanutils/1.9.3/commons-beanutils-1.9.3.jar:/Users/virtualman/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/virtualman/.m2/repository/org/apache/commons/commons-pool2/2.6.2/commons-pool2-2.6.2.jar:/Users/virtualman/.m2/repository/org/springframework/spring-core/5.1.7.RELEASE/spring-core-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-jcl/5.1.7.RELEASE/spring-jcl-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/hibernate/validator/hibernate-validator/6.0.16.Final/hibernate-validator-6.0.16.Final.jar:/Users/virtualman/.m2/repository/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/Users/virtualman/.m2/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.1.5.RELEASE/spring-boot-autoconfigure-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-context/5.1.7.RELEASE/spring-context-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-beans/5.1.7.RELEASE/spring-beans-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-expression/5.1.7.RELEASE/spring-expression-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/net/coobird/thumbnailator/0.4.8/thumbnailator-0.4.8.jar:/Users/virtualman/.m2/repository/com/aliyun/oss/aliyun-sdk-oss/3.7.0/aliyun-sdk-oss-3.7.0.jar:/Users/virtualman/.m2/repository/org/apache/httpcomponents/httpclient/4.5.8/httpclient-4.5.8.jar:/Users/virtualman/.m2/repository/org/apache/httpcomponents/httpcore/4.4.11/httpcore-4.4.11.jar:/Users/virtualman/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar:/Users/virtualman/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/Users/virtualman/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/Users/virtualman/.m2/repository/com/aliyun/aliyun-java-sdk-core/3.4.0/aliyun-java-sdk-core-3.4.0.jar:/Users/virtualman/.m2/repository/com/aliyun/aliyun-java-sdk-ram/3.0.0/aliyun-java-sdk-ram-3.0.0.jar:/Users/virtualman/.m2/repository/com/aliyun/aliyun-java-sdk-sts/3.0.0/aliyun-java-sdk-sts-3.0.0.jar:/Users/virtualman/.m2/repository/com/aliyun/aliyun-java-sdk-ecs/4.2.0/aliyun-java-sdk-ecs-4.2.0.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter/2.1.5.RELEASE/spring-boot-starter-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot/2.1.5.RELEASE/spring-boot-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/virtualman/.m2/repository/org/yaml/snakeyaml/1.23/snakeyaml-1.23.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.1.5.RELEASE/spring-boot-starter-web-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.1.5.RELEASE/spring-boot-starter-json-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.8/jackson-databind-2.9.8.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.8/jackson-core-2.9.8.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.8/jackson-datatype-jdk8-2.9.8.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.8/jackson-datatype-jsr310-2.9.8.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.8/jackson-module-parameter-names-2.9.8.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.1.5.RELEASE/spring-boot-starter-tomcat-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.19/tomcat-embed-core-9.0.19.jar:/Users/virtualman/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.19/tomcat-embed-el-9.0.19.jar:/Users/virtualman/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.19/tomcat-embed-websocket-9.0.19.jar:/Users/virtualman/.m2/repository/org/springframework/spring-web/5.1.7.RELEASE/spring-web-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-webmvc/5.1.7.RELEASE/spring-webmvc-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.1.5.RELEASE/spring-boot-starter-aop-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-aop/5.1.7.RELEASE/spring-aop-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/aspectj/aspectjweaver/1.9.4/aspectjweaver-1.9.4.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.1.5.RELEASE/spring-boot-configuration-processor-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/mysql/mysql-connector-java/5.1.41/mysql-connector-java-5.1.41.jar:/Users/virtualman/.m2/repository/org/mybatis/spring/boot/mybatis-spring-boot-starter/2.1.0/mybatis-spring-boot-starter-2.1.0.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.1.5.RELEASE/spring-boot-starter-jdbc-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/com/zaxxer/HikariCP/3.2.0/HikariCP-3.2.0.jar:/Users/virtualman/.m2/repository/org/springframework/spring-jdbc/5.1.7.RELEASE/spring-jdbc-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/mybatis/spring/boot/mybatis-spring-boot-autoconfigure/2.1.0/mybatis-spring-boot-autoconfigure-2.1.0.jar:/Users/virtualman/.m2/repository/org/mybatis/mybatis/3.5.2/mybatis-3.5.2.jar:/Users/virtualman/.m2/repository/org/mybatis/mybatis-spring/2.0.2/mybatis-spring-2.0.2.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-spring-boot-starter/2.1.5/mapper-spring-boot-starter-2.1.5.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-core/1.1.5/mapper-core-1.1.5.jar:/Users/virtualman/.m2/repository/javax/persistence/persistence-api/1.0/persistence-api-1.0.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-base/1.1.5/mapper-base-1.1.5.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-weekend/1.1.5/mapper-weekend-1.1.5.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-spring/1.1.5/mapper-spring-1.1.5.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-extra/1.1.5/mapper-extra-1.1.5.jar:/Users/virtualman/.m2/repository/tk/mybatis/mapper-spring-boot-autoconfigure/2.1.5/mapper-spring-boot-autoconfigure-2.1.5.jar:/Users/virtualman/.m2/repository/com/github/pagehelper/pagehelper-spring-boot-starter/1.2.12/pagehelper-spring-boot-starter-1.2.12.jar:/Users/virtualman/.m2/repository/com/github/pagehelper/pagehelper-spring-boot-autoconfigure/1.2.12/pagehelper-spring-boot-autoconfigure-1.2.12.jar:/Users/virtualman/.m2/repository/com/github/pagehelper/pagehelper/5.1.10/pagehelper-5.1.10.jar:/Users/virtualman/.m2/repository/com/github/jsqlparser/jsqlparser/2.0/jsqlparser-2.0.jar:/Users/virtualman/.m2/repository/org/springframework/session/spring-session-data-redis/2.1.6.RELEASE/spring-session-data-redis-2.1.6.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/data/spring-data-redis/2.1.8.RELEASE/spring-data-redis-2.1.8.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/data/spring-data-keyvalue/2.1.8.RELEASE/spring-data-keyvalue-2.1.8.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/data/spring-data-commons/2.1.8.RELEASE/spring-data-commons-2.1.8.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-tx/5.1.7.RELEASE/spring-tx-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-oxm/5.1.7.RELEASE/spring-oxm-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/spring-context-support/5.1.7.RELEASE/spring-context-support-5.1.7.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/session/spring-session-core/2.1.6.RELEASE/spring-session-core-2.1.6.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-security/2.1.5.RELEASE/spring-boot-starter-security-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/security/spring-security-config/5.1.5.RELEASE/spring-security-config-5.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/security/spring-security-core/5.1.5.RELEASE/spring-security-core-5.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/security/spring-security-web/5.1.5.RELEASE/spring-security-web-5.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/boot/spring-boot-starter-data-redis/2.1.5.RELEASE/spring-boot-starter-data-redis-2.1.5.RELEASE.jar:/Users/virtualman/.m2/repository/io/lettuce/lettuce-core/5.1.6.RELEASE/lettuce-core-5.1.6.RELEASE.jar:/Users/virtualman/.m2/repository/io/netty/netty-common/4.1.36.Final/netty-common-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/netty/netty-handler/4.1.36.Final/netty-handler-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/netty/netty-buffer/4.1.36.Final/netty-buffer-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/netty/netty-codec/4.1.36.Final/netty-codec-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/netty/netty-transport/4.1.36.Final/netty-transport-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/netty/netty-resolver/4.1.36.Final/netty-resolver-4.1.36.Final.jar:/Users/virtualman/.m2/repository/io/projectreactor/reactor-core/3.2.9.RELEASE/reactor-core-3.2.9.RELEASE.jar:/Users/virtualman/.m2/repository/org/reactivestreams/reactive-streams/1.0.2/reactive-streams-1.0.2.jar:/Users/virtualman/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/Users/virtualman/.m2/repository/org/apache/commons/commons-lang3/3.4/commons-lang3-3.4.jar:/Users/virtualman/.m2/repository/commons-io/commons-io/1.3.2/commons-io-1.3.2.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-swagger2/2.4.0/springfox-swagger2-2.4.0.jar:/Users/virtualman/.m2/repository/io/swagger/swagger-annotations/1.5.6/swagger-annotations-1.5.6.jar:/Users/virtualman/.m2/repository/io/swagger/swagger-models/1.5.6/swagger-models-1.5.6.jar:/Users/virtualman/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-spi/2.4.0/springfox-spi-2.4.0.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-core/2.4.0/springfox-core-2.4.0.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-schema/2.4.0/springfox-schema-2.4.0.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-swagger-common/2.4.0/springfox-swagger-common-2.4.0.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-spring-web/2.4.0/springfox-spring-web-2.4.0.jar:/Users/virtualman/.m2/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/virtualman/.m2/repository/com/fasterxml/classmate/1.4.0/classmate-1.4.0.jar:/Users/virtualman/.m2/repository/org/springframework/plugin/spring-plugin-core/1.2.0.RELEASE/spring-plugin-core-1.2.0.RELEASE.jar:/Users/virtualman/.m2/repository/org/springframework/plugin/spring-plugin-metadata/1.2.0.RELEASE/spring-plugin-metadata-1.2.0.RELEASE.jar:/Users/virtualman/.m2/repository/io/springfox/springfox-swagger-ui/2.4.0/springfox-swagger-ui-2.4.0.jar:/Users/virtualman/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.6/swagger-bootstrap-ui-1.6.jar:/Users/virtualman/.m2/repository/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar:/Users/virtualman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.21/slf4j-log4j12-1.7.21.jar:/Users/virtualman/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/virtualman/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar:/Users/virtualman/Library/Application Support/JetBrains/Toolbox/apps/IDEA-U/ch-0/203.6682.168/IntelliJ IDEA.app/Contents/lib/idea_rt.jar com.imooc.Application
Connected to the target VM, address: '127.0.0.1:60403', transport: 'socket'
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/Users/virtualman/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/Users/virtualman/.m2/repository/org/slf4j/slf4j-log4j12/1.7.21/slf4j-log4j12-1.7.21.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
INFO  Version:21 - HV000001: Hibernate Validator 6.0.16.Final

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.5.RELEASE)

2021-01-10 22:45:56.085  INFO 57208 --- [           main] com.imooc.Application                    : Starting Application on OpenDevel.local with PID 57208 (/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-fs/target/classes started by virtualman in /Users/virtualman/IdeaProjects/java-for-linux)
2021-01-10 22:45:56.095  INFO 57208 --- [           main] com.imooc.Application                    : No active profile set, falling back to default profiles: default
2021-01-10 22:46:05.427  INFO 57208 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-10 22:46:05.434  INFO 57208 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-10 22:46:05.781  INFO 57208 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 230ms. Found 0 repository interfaces.
2021-01-10 22:46:06.282  WARN 57208 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.imooc]' package. Please check your configuration.
2021-01-10 22:46:07.837  INFO 57208 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$269739cd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-10 22:46:08.568  INFO 57208 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8066 (http)
Jan 10, 2021 10:46:08 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-nio-8066"]
Jan 10, 2021 10:46:08 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service [Tomcat]
Jan 10, 2021 10:46:08 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet engine: [Apache Tomcat/9.0.19]
Jan 10, 2021 10:46:08 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring embedded WebApplicationContext
2021-01-10 22:46:08.983  INFO 57208 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 12532 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/CarouselMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/CategoryMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/CategoryMapperCustom.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsCommentsMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsCommentsMapperCustom.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsImgMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsMapperCustom.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsParamMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/ItemsSpecMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/OrderItemsMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/OrderStatusMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/OrdersMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/OrdersMapperCustom.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/UserAddressMapper.xml]'
Parsed mapper file: 'file [/Users/virtualman/IdeaProjects/java-for-linux/foodie-dev/foodie-dev-mapper/target/classes/mapper/UsersMapper.xml]'
2021-01-10 22:46:14.126  INFO 57208 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-01-10 22:46:14.803  INFO 57208 --- [           main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2021-01-10 22:46:14.816  INFO 57208 --- [           main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2021-01-10 22:46:14.817  INFO 57208 --- [           main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2021-01-10 22:46:14.818  INFO 57208 --- [           main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2021-01-10 22:46:16.117  INFO 57208 --- [           main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2021-01-10 22:46:16.121  INFO 57208 --- [           main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2021-01-10 22:46:17.383  INFO 57208 --- [           main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
Jan 10, 2021 10:46:17 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-nio-8066"]
2021-01-10 22:46:17.435  INFO 57208 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8066 (http) with context path ''
2021-01-10 22:46:17.442  INFO 57208 --- [           main] com.imooc.Application                    : Started Application in 25.036 seconds (JVM running for 29.741)
Jan 10, 2021 10:46:50 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-10 22:46:50.017  INFO 57208 --- [nio-8066-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-01-10 22:46:50.062  INFO 57208 --- [nio-8066-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 43 ms
2021-01-10 22:46:56.169  WARN 57208 --- [nio-8066-exec-2] com.aliyun.oss                           : [Server]Unable to execute HTTP request: The OSS Access Key Id you provided does not exist in our records.
[ErrorCode]: InvalidAccessKeyId
[RequestId]: 5FFB135F3ADDB9373144EBCA
[HostId]: imooctest.oss-cn-beijing.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>InvalidAccessKeyId</Code>
  <Message>The OSS Access Key Id you provided does not exist in our records.</Message>
  <RequestId>5FFB135F3ADDB9373144EBCA</RequestId>
  <HostId>imooctest.oss-cn-beijing.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI4Fo5zZeRw9DvQLFKUGNG</OSSAccessKeyId>
</Error>

Jan 10, 2021 10:46:56 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.aliyun.oss.OSSException: The OSS Access Key Id you provided does not exist in our records.
[ErrorCode]: InvalidAccessKeyId
[RequestId]: 5FFB135F3ADDB9373144EBCA
[HostId]: imooctest.oss-cn-beijing.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>InvalidAccessKeyId</Code>
  <Message>The OSS Access Key Id you provided does not exist in our records.</Message>
  <RequestId>5FFB135F3ADDB9373144EBCA</RequestId>
  <HostId>imooctest.oss-cn-beijing.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI4Fo5zZeRw9DvQLFKUGNG</OSSAccessKeyId>
</Error>
] with root cause
com.aliyun.oss.OSSException: The OSS Access Key Id you provided does not exist in our records.
[ErrorCode]: InvalidAccessKeyId
[RequestId]: 5FFB135F3ADDB9373144EBCA
[HostId]: imooctest.oss-cn-beijing.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>InvalidAccessKeyId</Code>
  <Message>The OSS Access Key Id you provided does not exist in our records.</Message>
  <RequestId>5FFB135F3ADDB9373144EBCA</RequestId>
  <HostId>imooctest.oss-cn-beijing.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI4Fo5zZeRw9DvQLFKUGNG</OSSAccessKeyId>
</Error>

	at com.aliyun.oss.common.utils.ExceptionFactory.createOSSException(ExceptionFactory.java:100)
	at com.aliyun.oss.internal.OSSErrorResponseHandler.handle(OSSErrorResponseHandler.java:70)
	at com.aliyun.oss.common.comm.ServiceClient.handleResponse(ServiceClient.java:257)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequestImpl(ServiceClient.java:140)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequest(ServiceClient.java:70)
	at com.aliyun.oss.internal.OSSOperation.send(OSSOperation.java:83)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:145)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:102)
	at com.aliyun.oss.internal.OSSObjectOperation.writeObjectInternal(OSSObjectOperation.java:1125)
	at com.aliyun.oss.internal.OSSObjectOperation.putObject(OSSObjectOperation.java:130)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:491)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:475)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:469)
	at com.imooc.service.impl.FdfsServiceImpl.uploadOSS(FdfsServiceImpl.java:47)
	at com.imooc.controller.CenterUserController.uploadFace(CenterUserController.java:62)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151)
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)



```

开源笔记

可 Pull Requests 协作写开源笔记

gitee

[https://gitee.com/opendevel/java-for-linux](https://gitee.com/opendevel/java-for-linux)

github

[https://github.com/OSrcD/java-for-linux](https://github.com/OSrcD/java-for-linux)

teambition

[https://tburl.in/0jDNvpbK](https://tburl.in/0jDNvpbK)

开源视频

bilibili

[https://space.bilibili.com/77266754](https://space.bilibili.com/77266754)

开源博客

oschina

[https://my.oschina.net/u/4675154](https://my.oschina.net/u/4675154)

csdn

[https://blog.csdn.net/OpenDevel](https://blog.csdn.net/OpenDevel)

开源项目

gitee

[https://gitee.com/opendevel](https://gitee.com/opendevel)

github

[https://github.com/OSrcD](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMDg5Mjc5NSwiaWF0IjoxNjEwMjg3OTk1LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.U50g6LWj8kSrp6bqToZIMwxwnYJqg23IlBGYlpb-YQU&download=image.png "")

