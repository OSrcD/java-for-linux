

## 单体架构

初创小公司，前期可能只有2-3个开发人员。为了节省成本，并希望项目快速开发，快速发布上线，快速验证市场，这个时候就可以考虑采用单体架构进行开发。

所谓单体架构，就是系统服务及数据库等都放在同一台服务器上。

### 单体架构的优点

小团队成型即可完成开发-测试-上线，而且迭代周期短，速度快，打包方便，运维省事。

是初创小公司业务发展初期最理想的架构形式。

![](https://tcs.teambition.net/storage/312181ed43a8ea7dd2e9b2d9d12d90cab076?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE4MWVkNDNhOGVhN2RkMmU5YjJkOWQxMmQ5MGNhYjA3NiJ9.C4juaHtPdqdqxr-scf0OSpQFwZ5ztEBaLJgJ4qWguYc&download=image.png "")



## 集群架构

当业务不断发展壮大，用户访问量不断增加，单体架构往往会因为负载越来越高，从而面临越来越多的挑战。比如：系统的承载量可能会越发乏力，逐渐成为性能瓶颈；单节点宕机可能造成所有服务不可用等等,面对突如其来的一系列问题，我们该如何切入？

我们可以通过Nginx负载均衡， 双机主备与主从热备，降低服务器负载压力；

通过Redis缓存集群为数据库减压等解决方案，逐步演变系统成一个高可用的集群架构。

![](https://tcs.teambition.net/storage/31211ab9f62bf053eda736660f3dd4eb1683?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjExYWI5ZjYyYmYwNTNlZGE3MzY2NjBmM2RkNGViMTY4MyJ9.sKx_G9ttM6JUqJ6-A3F5IpVSnU2BzUokFrPhRTJrtZE&download=image.png "")

## 分布式架构

随着业务发展壮大，用户量暴涨，单节点处理能力就会成为瓶颈，如果并发量居高不下，服务器很容易因负载过高而导致崩溃宕机。出于高并发，高可用的考虑，项目就应该演变到分布式架构了。

### 然而分布式环境下我们又会面临更多的挑战需要去应对。

如何保障不论用户请求落在哪个服务节点，文件都能被获取到?

如何对上下游弱依赖关系的服务节点做解耦?

如果日志分布在不同的服务上，如何为后续的业务提供数据支撑？

如果一个资源在同一个时间节点上，产生了竞争该怎么办?

如果用户量暴增，导致每次查询时间慢了许多该怎么办？

如果下单、付款分布在不同的服务上，如何保证跨服务事务?

![](https://tcs.teambition.net/storage/3121a448879a1ae95952080f78a2952d22be?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhNDQ4ODc5YTFhZTk1OTUyMDgwZjc4YTI5NTJkMjJiZSJ9.lIzmlDUyuYseuL3k-rZPv-D8zFcutmPgUz6v_1qr0HI&download=image.png "")

## 微服务架构

随着发展，系统越来越复杂，如果分布式架构无法满足业务要求，可以尝试微服务架构。不过它也有自己的利弊，需要更深入的掌握微服务技术才好更灵活的权衡利弊。

如下问题都是微服务下需要思考和解决的问题：

### 如何做好服务登记工作？

接口异常超时怎么破？如何确保核心主链路的高可用性？

如何对配置项进行中心化的管理？如何在运行期刷新配置项？

如何设置网络请求转发规则？

如何根据蛛丝马迹进行线上异常排查？

如何无缝对接消息中间件？

![](https://tcs.teambition.net/storage/3121d717b9023c17a92ef8f4d13b335ed196?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkNzE3YjkwMjNjMTdhOTJlZjhmNGQxM2IzMzVlZDE5NiJ9.bAiiWmASPqZk2vmKVXZ5yLIRLEzcbARQP-l4EmAg498&download=image.png "")

### Spring Cloud 微服务

Spring Cloud 通过 Eureka 实现服务治理；

通过 Ribbon 实现负载均衡；

通过 Fegin 实现服务通信；

通过 Hystrix 实现服务容错；

通过 Config 实现分布式配置中心；

通过 Bus 实现消息总线；

通过 Gateway 实现服务网关；

通过 Sleuth 实现链路追踪；

通过 Stream 实现消息驱动服务；

总之 Spring Cloud是微服务集大成者，也是微服务落地的整体解决方案，值得你拥有。

![](https://tcs.teambition.net/storage/31210f5198c2c717365ce79b676ab6315b41?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEwZjUxOThjMmM3MTczNjVjZTc5YjY3NmFiNjMxNWI0MSJ9.0bx3NjL_G3ieGuNtd7uvJPiySYp-3R1r5Y52M8wPmr0&download=image.png "")

## 容器化与容器编排

微服务改造后，服务数量激增，会遇到新的挑战。

如何快速部署？

每秒数万交易的促销、秒杀、抢购系统如何做弹性扩缩容？

这时候容器技术就可以更加灵活的帮我们应对服务部署，服务编排，扩缩容等问题。

它不仅解决了微服务下的这些重难点问题，还大大提升开发效率，加速迭代。

尤其是容器化弹性扩缩容技术，让你免除系统宕机的压力，轻松实现高并发业务。

![](https://tcs.teambition.net/storage/312178917084fba6526b521d41f85a7a9425?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3ODkxNzA4NGZiYTY1MjZiNTIxZDQxZjg1YTdhOTQyNSJ9.1YJtjF9r48nF6vqEhIKXTYMK4_eHUIclXmS8T8SO9LA&download=image.png "")



![](https://tcs.teambition.net/storage/31217c2ebc8935ab3d203269bc55a1329a91?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE3YzJlYmM4OTM1YWIzZDIwMzI2OWJjNTVhMTMyOWE5MSJ9.bJ1E3sP-__1kkTs22-RDh0me7AMJEbhsXPt_313FecM&download=image.png "")



![](https://tcs.teambition.net/storage/31213a0a5f17a88e31086a58f13b66f6311b?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEzYTBhNWYxN2E4OGUzMTA4NmE1OGYxM2I2NmY2MzExYiJ9.hKHCU0EfH04umix8mflL7ESbM8-fqc6iQP6Xfhq8d5A&download=image.png "")

![](https://tcs.teambition.net/storage/3121677505a45c45c8e88c8494844b8d6da1?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2Nzc1MDVhNDVjNDVjOGU4OGM4NDk0ODQ0YjhkNmRhMSJ9.l_2XETWd5oCPs2SEUmduSseSridp4mEY1zS3kNnqE_w&download=image.png "")

![](https://tcs.teambition.net/storage/31212c8643bb69a387833dfbc713eb25f714?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjEyYzg2NDNiYjY5YTM4NzgzM2RmYmM3MTNlYjI1ZjcxNCJ9.uVgMg35OesAdM3Lv0q-kq68VaZ1qAQQtVnyMY3fJcQg&download=image.png "")

![](https://tcs.teambition.net/storage/3121c91b2e0ed9423f8d84168e867657dd31?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjOTFiMmUwZWQ5NDIzZjhkODQxNjhlODY3NjU3ZGQzMSJ9.7ZxhfIuoEphSbjB8lO_X379cSrhnWKrqqtMvdefb1co&download=image.png "")

![](https://tcs.teambition.net/storage/3121bdc4b7535a6174e5836845c40cc2ab02?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiZGM0Yjc1MzVhNjE3NGU1ODM2ODQ1YzQwY2MyYWIwMiJ9.3Bzi3a-e3uDU_nvIQSE--F3H_IRPVXYjYoreYiwTFI4&download=image.png "")

![](https://tcs.teambition.net/storage/3121d66744a9f8c51c5e66dafec23f80432f?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkNjY3NDRhOWY4YzUxYzVlNjZkYWZlYzIzZjgwNDMyZiJ9.lCdYMSLckBFSasXYB_nvTU9VBEkrnnJg9gCUV38230M&download=image.png "")

![](https://tcs.teambition.net/storage/31219533ee4d8b2048170b75b7986c5741ec?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE5NTMzZWU0ZDhiMjA0ODE3MGI3NWI3OTg2YzU3NDFlYyJ9.k9ER69uN2pNLGSDQorK9dDMVStvGrycIdtKqvWZAmf4&download=image.png "")

![](https://tcs.teambition.net/storage/3121f2b5bf16734bc530fde2ad1d8f2f7194?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmMmI1YmYxNjczNGJjNTMwZmRlMmFkMWQ4ZjJmNzE5NCJ9.RzkdHfw5PX1ObTR2feou-_Qt598gkmin2i3nVllVcIo&download=image.png "")

![](https://tcs.teambition.net/storage/3121e832ceeed7c031954c57e9f24e9dc320?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFlODMyY2VlZWQ3YzAzMTk1NGM1N2U5ZjI0ZTlkYzMyMCJ9.9_m8tYRRVv1jIY4EtdgzD8ga4kE2mQCK189v4oGhQsU&download=image.png "")

![](https://tcs.teambition.net/storage/3121bd98e534b12680c9ffa428ef9c193451?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFiZDk4ZTUzNGIxMjY4MGM5ZmZhNDI4ZWY5YzE5MzQ1MSJ9.gHZriW4cg8ipvXumaX66Gc-P3Mf3pjXXUbZGlgF09_0&download=image.png "")

![](https://tcs.teambition.net/storage/3121c4870889f94ff212076a452f489ef313?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFjNDg3MDg4OWY5NGZmMjEyMDc2YTQ1MmY0ODllZjMxMyJ9.rgn-ARIGjdZZ5UwDGxocoeNR69oHECmMo682MJYgKWg&download=image.png "")

![](https://tcs.teambition.net/storage/31216c12ccedcff20de6d12cb4eb67de4143?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjE2YzEyY2NlZGNmZjIwZGU2ZDEyY2I0ZWI2N2RlNDE0MyJ9.jOEzCc3z0spUDsq_KkO_7uHcIL_MCpvQZxOWboEc-60&download=image.png "")

![](https://tcs.teambition.net/storage/3121f2735e4cb9fc350329adc24c7b677d42?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFmMjczNWU0Y2I5ZmMzNTAzMjlhZGMyNGM3YjY3N2Q0MiJ9.W0bwDACrvoS1Yr0EJIMemB3KWGizr6-wHj7MpFLJwmM&download=image.png "")

![](https://tcs.teambition.net/storage/3121dd7d9ec78376f682c4321eca00d7b801?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFkZDdkOWVjNzgzNzZmNjgyYzQzMjFlY2EwMGQ3YjgwMSJ9.zJtmKCripd3DyWserkLAs2T_tpxjIOVLqBAuLAIngAA&download=image.png "")





开源笔记

可 Pull Requests 协作写开源笔记

gitee

[https://gitee.com/opendevel/java-for-linux](https://gitee.com/opendevel/java-for-linux)

github

[https://github.com/OSrcD/java-for-linux](https://github.com/OSrcD/java-for-linux)

teambition

[https://tburl.in/0jDNvpbK](https://tburl.in/0jDNvpbK)

开源视频

bilibili

[https://space.bilibili.com/77266754](https://space.bilibili.com/77266754)

开源博客

oschina

[https://my.oschina.net/u/4675154](https://my.oschina.net/u/4675154)

csdn

[https://blog.csdn.net/OpenDevel](https://blog.csdn.net/OpenDevel)

开源项目

gitee

[https://gitee.com/opendevel](https://gitee.com/opendevel)

github

[https://github.com/OSrcD](https://github.com/OSrcD)

开源赞赏

![](https://tcs.teambition.net/storage/3121aed56e96d914e1046f3b498b493ce232?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTYxMjc5NjYzMSwiaWF0IjoxNjEyMTkxODMxLCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMjFhZWQ1NmU5NmQ5MTRlMTA0NmYzYjQ5OGI0OTNjZTIzMiJ9.jBmWt7YwHoKXuToOaU8CqR03L_PkY1056SBo_XtlD2g&download=image.png "")

